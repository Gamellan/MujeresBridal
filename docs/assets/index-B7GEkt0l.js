(function(){const G=document.createElement("link").relList;if(G&&G.supports&&G.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))C(m);new MutationObserver(m=>{for(const o of m)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&C(i)}).observe(document,{childList:!0,subtree:!0});function l(m){const o={};return m.integrity&&(o.integrity=m.integrity),m.referrerPolicy&&(o.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?o.credentials="include":m.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function C(m){if(m.ep)return;m.ep=!0;const o=l(m);fetch(m.href,o)}})();const Wt="Mujeresbridalpass2026!",Mt="MujeresBridalDB",_t="dresses",Zt=()=>new Promise((D,G)=>{const l=indexedDB.open(Mt,1);l.onerror=()=>G(l.error),l.onsuccess=()=>D(l.result),l.onupgradeneeded=C=>{const m=C.target.result;m.objectStoreNames.contains(_t)||m.createObjectStore(_t,{keyPath:"slug"})}}),ut={isLoggedIn:!1,dresses:[],db:null,async init(){try{this.db=await Zt(),await this.loadDresses()}catch(D){console.error("Failed to init DB:",D)}},login(D){return D===Wt?(this.isLoggedIn=!0,sessionStorage.setItem("adminLoggedIn","true"),!0):!1},logout(){this.isLoggedIn=!1,sessionStorage.removeItem("adminLoggedIn")},checkSession(){return this.isLoggedIn=sessionStorage.getItem("adminLoggedIn")==="true",this.isLoggedIn},async loadDresses(D=[]){return new Promise(G=>{if(!this.db){this.dresses=D,G();return}const m=this.db.transaction([_t],"readonly").objectStore(_t).getAll();m.onsuccess=()=>{this.dresses=m.result.length>0?m.result:D,G()},m.onerror=()=>{this.dresses=D,G()}})},async saveDresses(){if(this.db)return new Promise((D,G)=>{const l=this.db.transaction([_t],"readwrite"),C=l.objectStore(_t);C.clear(),this.dresses.forEach(m=>C.add(m)),l.onsuccess=()=>{console.log("âœ… Changes saved locally. Use Export JSON to update catalog on GitHub."),D()},l.onerror=()=>G(l.error)})},async addDress(D){const G={slug:this.generateSlug(D.name),name:D.name,description:D.description,price:D.price?parseFloat(D.price):null,currency:D.currency||"PHP",readyToWear:D.readyToWear||!1,madeToOrder:D.madeToOrder||!1,forSale:D.forSale||!1,forRent:D.forRent||!1,images:D.images||[],cover:D.cover||null,tags:D.tags||[]};return this.dresses.push(G),await this.saveDresses(),G},async updateDress(D,G){const l=this.dresses.findIndex(C=>C.slug===D);return l!==-1?(this.dresses[l]={...this.dresses[l],...G},await this.saveDresses(),this.dresses[l]):null},async deleteDress(D){const G=this.dresses.findIndex(l=>l.slug===D);if(G!==-1){const l=this.dresses.splice(G,1);return await this.saveDresses(),l[0]}return null},getDress(D){return this.dresses.find(G=>G.slug===D)},getDresses(){return this.dresses},async convertImageToBase64(D){return new Promise((G,l)=>{const C=new FileReader;C.onload=()=>G(C.result),C.onerror=l,C.readAsDataURL(D)})},generateSlug(D){return D.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},exportJSON(){const D={updatedAt:new Date().toISOString(),dresses:this.dresses};return JSON.stringify(D,null,2)},async importJSON(D){try{const G=JSON.parse(D);return Array.isArray(G.dresses)?(this.dresses=G.dresses,await this.saveDresses(),!0):!1}catch(G){return console.error("Import failed:",G),!1}}};var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ht(D){return D&&D.__esModule&&Object.prototype.hasOwnProperty.call(D,"default")?D.default:D}function St(D){throw new Error('Could not dynamically require "'+D+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rt={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(D,G){(function(l){D.exports=l()})(function(){return function l(C,m,o){function i(g,y){if(!m[g]){if(!C[g]){var _=typeof St=="function"&&St;if(!y&&_)return _(g,!0);if(r)return r(g,!0);var b=new Error("Cannot find module '"+g+"'");throw b.code="MODULE_NOT_FOUND",b}var s=m[g]={exports:{}};C[g][0].call(s.exports,function(f){var n=C[g][1][f];return i(n||f)},s,s.exports,l,C,m,o)}return m[g].exports}for(var r=typeof St=="function"&&St,c=0;c<o.length;c++)i(o[c]);return i}({1:[function(l,C,m){var o=l("./utils"),i=l("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";m.encode=function(c){for(var g,y,_,b,s,f,n,u=[],a=0,p=c.length,w=p,S=o.getTypeOf(c)!=="string";a<c.length;)w=p-a,_=S?(g=c[a++],y=a<p?c[a++]:0,a<p?c[a++]:0):(g=c.charCodeAt(a++),y=a<p?c.charCodeAt(a++):0,a<p?c.charCodeAt(a++):0),b=g>>2,s=(3&g)<<4|y>>4,f=1<w?(15&y)<<2|_>>6:64,n=2<w?63&_:64,u.push(r.charAt(b)+r.charAt(s)+r.charAt(f)+r.charAt(n));return u.join("")},m.decode=function(c){var g,y,_,b,s,f,n=0,u=0,a="data:";if(c.substr(0,a.length)===a)throw new Error("Invalid base64 input, it looks like a data url.");var p,w=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===r.charAt(64)&&w--,c.charAt(c.length-2)===r.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=i.uint8array?new Uint8Array(0|w):new Array(0|w);n<c.length;)g=r.indexOf(c.charAt(n++))<<2|(b=r.indexOf(c.charAt(n++)))>>4,y=(15&b)<<4|(s=r.indexOf(c.charAt(n++)))>>2,_=(3&s)<<6|(f=r.indexOf(c.charAt(n++))),p[u++]=g,s!==64&&(p[u++]=y),f!==64&&(p[u++]=_);return p}},{"./support":30,"./utils":32}],2:[function(l,C,m){var o=l("./external"),i=l("./stream/DataWorker"),r=l("./stream/Crc32Probe"),c=l("./stream/DataLengthProbe");function g(y,_,b,s,f){this.compressedSize=y,this.uncompressedSize=_,this.crc32=b,this.compression=s,this.compressedContent=f}g.prototype={getContentWorker:function(){var y=new i(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),_=this;return y.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new i(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(y,_,b){return y.pipe(new r).pipe(new c("uncompressedSize")).pipe(_.compressWorker(b)).pipe(new c("compressedSize")).withStreamInfo("compression",_)},C.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,C,m){var o=l("./stream/GenericWorker");m.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},m.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,C,m){var o=l("./utils"),i=function(){for(var r,c=[],g=0;g<256;g++){r=g;for(var y=0;y<8;y++)r=1&r?3988292384^r>>>1:r>>>1;c[g]=r}return c}();C.exports=function(r,c){return r!==void 0&&r.length?o.getTypeOf(r)!=="string"?function(g,y,_,b){var s=i,f=b+_;g^=-1;for(var n=b;n<f;n++)g=g>>>8^s[255&(g^y[n])];return-1^g}(0|c,r,r.length,0):function(g,y,_,b){var s=i,f=b+_;g^=-1;for(var n=b;n<f;n++)g=g>>>8^s[255&(g^y.charCodeAt(n))];return-1^g}(0|c,r,r.length,0):0}},{"./utils":32}],5:[function(l,C,m){m.base64=!1,m.binary=!1,m.dir=!1,m.createFolders=!0,m.date=null,m.compression=null,m.compressionOptions=null,m.comment=null,m.unixPermissions=null,m.dosPermissions=null},{}],6:[function(l,C,m){var o=null;o=typeof Promise<"u"?Promise:l("lie"),C.exports={Promise:o}},{lie:37}],7:[function(l,C,m){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=l("pako"),r=l("./utils"),c=l("./stream/GenericWorker"),g=o?"uint8array":"array";function y(_,b){c.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=b,this.meta={}}m.magic="\b\0",r.inherits(y,c),y.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(g,_.data),!1)},y.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(b){_.push({data:b,meta:_.meta})}},m.compressWorker=function(_){return new y("Deflate",_)},m.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,C,m){function o(s,f){var n,u="";for(n=0;n<f;n++)u+=String.fromCharCode(255&s),s>>>=8;return u}function i(s,f,n,u,a,p){var w,S,x=s.file,L=s.compression,T=p!==g.utf8encode,U=r.transformTo("string",p(x.name)),O=r.transformTo("string",g.utf8encode(x.name)),Z=x.comment,V=r.transformTo("string",p(Z)),v=r.transformTo("string",g.utf8encode(Z)),B=O.length!==x.name.length,e=v.length!==Z.length,F="",Q="",j="",tt=x.dir,W=x.date,X={crc32:0,compressedSize:0,uncompressedSize:0};f&&!n||(X.crc32=s.crc32,X.compressedSize=s.compressedSize,X.uncompressedSize=s.uncompressedSize);var z=0;f&&(z|=8),T||!B&&!e||(z|=2048);var A=0,J=0;tt&&(A|=16),a==="UNIX"?(J=798,A|=function($,st){var dt=$;return $||(dt=st?16893:33204),(65535&dt)<<16}(x.unixPermissions,tt)):(J=20,A|=function($){return 63&($||0)}(x.dosPermissions)),w=W.getUTCHours(),w<<=6,w|=W.getUTCMinutes(),w<<=5,w|=W.getUTCSeconds()/2,S=W.getUTCFullYear()-1980,S<<=4,S|=W.getUTCMonth()+1,S<<=5,S|=W.getUTCDate(),B&&(Q=o(1,1)+o(y(U),4)+O,F+="up"+o(Q.length,2)+Q),e&&(j=o(1,1)+o(y(V),4)+v,F+="uc"+o(j.length,2)+j);var q="";return q+=`
\0`,q+=o(z,2),q+=L.magic,q+=o(w,2),q+=o(S,2),q+=o(X.crc32,4),q+=o(X.compressedSize,4),q+=o(X.uncompressedSize,4),q+=o(U.length,2),q+=o(F.length,2),{fileRecord:_.LOCAL_FILE_HEADER+q+U+F,dirRecord:_.CENTRAL_FILE_HEADER+o(J,2)+q+o(V.length,2)+"\0\0\0\0"+o(A,4)+o(u,4)+U+F+V}}var r=l("../utils"),c=l("../stream/GenericWorker"),g=l("../utf8"),y=l("../crc32"),_=l("../signature");function b(s,f,n,u){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=f,this.zipPlatform=n,this.encodeFileName=u,this.streamFiles=s,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(b,c),b.prototype.push=function(s){var f=s.meta.percent||0,n=this.entriesCount,u=this._sources.length;this.accumulate?this.contentBuffer.push(s):(this.bytesWritten+=s.data.length,c.prototype.push.call(this,{data:s.data,meta:{currentFile:this.currentFile,percent:n?(f+100*(n-u-1))/n:100}}))},b.prototype.openedSource=function(s){this.currentSourceOffset=this.bytesWritten,this.currentFile=s.file.name;var f=this.streamFiles&&!s.file.dir;if(f){var n=i(s,f,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(s){this.accumulate=!1;var f=this.streamFiles&&!s.file.dir,n=i(s,f,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),f)this.push({data:function(u){return _.DATA_DESCRIPTOR+o(u.crc32,4)+o(u.compressedSize,4)+o(u.uncompressedSize,4)}(s),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var s=this.bytesWritten,f=0;f<this.dirRecords.length;f++)this.push({data:this.dirRecords[f],meta:{percent:100}});var n=this.bytesWritten-s,u=function(a,p,w,S,x){var L=r.transformTo("string",x(S));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(a,2)+o(a,2)+o(p,4)+o(w,4)+o(L.length,2)+L}(this.dirRecords.length,n,s,this.zipComment,this.encodeFileName);this.push({data:u,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(s){this._sources.push(s);var f=this;return s.on("data",function(n){f.processChunk(n)}),s.on("end",function(){f.closedSource(f.previous.streamInfo),f._sources.length?f.prepareNextSource():f.end()}),s.on("error",function(n){f.error(n)}),this},b.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(s){var f=this._sources;if(!c.prototype.error.call(this,s))return!1;for(var n=0;n<f.length;n++)try{f[n].error(s)}catch{}return!0},b.prototype.lock=function(){c.prototype.lock.call(this);for(var s=this._sources,f=0;f<s.length;f++)s[f].lock()},C.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,C,m){var o=l("../compressions"),i=l("./ZipFileWorker");m.generateWorker=function(r,c,g){var y=new i(c.streamFiles,g,c.platform,c.encodeFileName),_=0;try{r.forEach(function(b,s){_++;var f=function(p,w){var S=p||w,x=o[S];if(!x)throw new Error(S+" is not a valid compression method !");return x}(s.options.compression,c.compression),n=s.options.compressionOptions||c.compressionOptions||{},u=s.dir,a=s.date;s._compressWorker(f,n).withStreamInfo("file",{name:b,dir:u,date:a,comment:s.comment||"",unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions}).pipe(y)}),y.entriesCount=_}catch(b){y.error(b)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,C,m){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new o;for(var r in this)typeof this[r]!="function"&&(i[r]=this[r]);return i}}(o.prototype=l("./object")).loadAsync=l("./load"),o.support=l("./support"),o.defaults=l("./defaults"),o.version="3.10.1",o.loadAsync=function(i,r){return new o().loadAsync(i,r)},o.external=l("./external"),C.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,C,m){var o=l("./utils"),i=l("./external"),r=l("./utf8"),c=l("./zipEntries"),g=l("./stream/Crc32Probe"),y=l("./nodejsUtils");function _(b){return new i.Promise(function(s,f){var n=b.decompressed.getContentWorker().pipe(new g);n.on("error",function(u){f(u)}).on("end",function(){n.streamInfo.crc32!==b.decompressed.crc32?f(new Error("Corrupted zip : CRC32 mismatch")):s()}).resume()})}C.exports=function(b,s){var f=this;return s=o.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),y.isNode&&y.isStream(b)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",b,!0,s.optimizedBinaryString,s.base64).then(function(n){var u=new c(s);return u.load(n),u}).then(function(n){var u=[i.Promise.resolve(n)],a=n.files;if(s.checkCRC32)for(var p=0;p<a.length;p++)u.push(_(a[p]));return i.Promise.all(u)}).then(function(n){for(var u=n.shift(),a=u.files,p=0;p<a.length;p++){var w=a[p],S=w.fileNameStr,x=o.resolve(w.fileNameStr);f.file(x,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:s.createFolders}),w.dir||(f.file(x).unsafeOriginalName=S)}return u.zipComment.length&&(f.comment=u.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,C,m){var o=l("../utils"),i=l("../stream/GenericWorker");function r(c,g){i.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(g)}o.inherits(r,i),r.prototype._bindStream=function(c){var g=this;(this._stream=c).pause(),c.on("data",function(y){g.push({data:y,meta:{percent:0}})}).on("error",function(y){g.isPaused?this.generatedError=y:g.error(y)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},r.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},C.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,C,m){var o=l("readable-stream").Readable;function i(r,c,g){o.call(this,c),this._helper=r;var y=this;r.on("data",function(_,b){y.push(_)||y._helper.pause(),g&&g(b)}).on("error",function(_){y.emit("error",_)}).on("end",function(){y.push(null)})}l("../utils").inherits(i,o),i.prototype._read=function(){this._helper.resume()},C.exports=i},{"../utils":32,"readable-stream":16}],14:[function(l,C,m){C.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,i);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,i)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var i=new Buffer(o);return i.fill(0),i},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(l,C,m){function o(x,L,T){var U,O=r.getTypeOf(L),Z=r.extend(T||{},y);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(x=a(x)),Z.createFolders&&(U=u(x))&&p.call(this,U,!0);var V=O==="string"&&Z.binary===!1&&Z.base64===!1;T&&T.binary!==void 0||(Z.binary=!V),(L instanceof _&&L.uncompressedSize===0||Z.dir||!L||L.length===0)&&(Z.base64=!1,Z.binary=!0,L="",Z.compression="STORE",O="string");var v=null;v=L instanceof _||L instanceof c?L:f.isNode&&f.isStream(L)?new n(x,L):r.prepareContent(x,L,Z.binary,Z.optimizedBinaryString,Z.base64);var B=new b(x,v,Z);this.files[x]=B}var i=l("./utf8"),r=l("./utils"),c=l("./stream/GenericWorker"),g=l("./stream/StreamHelper"),y=l("./defaults"),_=l("./compressedObject"),b=l("./zipObject"),s=l("./generate"),f=l("./nodejsUtils"),n=l("./nodejs/NodejsStreamInputAdapter"),u=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var L=x.lastIndexOf("/");return 0<L?x.substring(0,L):""},a=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},p=function(x,L){return L=L!==void 0?L:y.createFolders,x=a(x),this.files[x]||o.call(this,x,null,{dir:!0,createFolders:L}),this.files[x]};function w(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var L,T,U;for(L in this.files)U=this.files[L],(T=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&x(T,U)},filter:function(x){var L=[];return this.forEach(function(T,U){x(T,U)&&L.push(U)}),L},file:function(x,L,T){if(arguments.length!==1)return x=this.root+x,o.call(this,x,L,T),this;if(w(x)){var U=x;return this.filter(function(Z,V){return!V.dir&&U.test(Z)})}var O=this.files[this.root+x];return O&&!O.dir?O:null},folder:function(x){if(!x)return this;if(w(x))return this.filter(function(O,Z){return Z.dir&&x.test(O)});var L=this.root+x,T=p.call(this,L),U=this.clone();return U.root=T.name,U},remove:function(x){x=this.root+x;var L=this.files[x];if(L||(x.slice(-1)!=="/"&&(x+="/"),L=this.files[x]),L&&!L.dir)delete this.files[x];else for(var T=this.filter(function(O,Z){return Z.name.slice(0,x.length)===x}),U=0;U<T.length;U++)delete this.files[T[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var L,T={};try{if((T=r.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");r.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var U=T.comment||this.comment||"";L=s.generateWorker(this,T,U)}catch(O){(L=new c("error")).error(O)}return new g(L,T.type||"string",T.mimeType)},generateAsync:function(x,L){return this.generateInternalStream(x).accumulate(L)},generateNodeStream:function(x,L){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(L)}};C.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,C,m){C.exports=l("stream")},{stream:void 0}],17:[function(l,C,m){var o=l("./DataReader");function i(r){o.call(this,r);for(var c=0;c<this.data.length;c++)r[c]=255&r[c]}l("../utils").inherits(i,o),i.prototype.byteAt=function(r){return this.data[this.zero+r]},i.prototype.lastIndexOfSignature=function(r){for(var c=r.charCodeAt(0),g=r.charCodeAt(1),y=r.charCodeAt(2),_=r.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===c&&this.data[b+1]===g&&this.data[b+2]===y&&this.data[b+3]===_)return b-this.zero;return-1},i.prototype.readAndCheckSignature=function(r){var c=r.charCodeAt(0),g=r.charCodeAt(1),y=r.charCodeAt(2),_=r.charCodeAt(3),b=this.readData(4);return c===b[0]&&g===b[1]&&y===b[2]&&_===b[3]},i.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},C.exports=i},{"../utils":32,"./DataReader":18}],18:[function(l,C,m){var o=l("../utils");function i(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var c,g=0;for(this.checkOffset(r),c=this.index+r-1;c>=this.index;c--)g=(g<<8)+this.byteAt(c);return this.index+=r,g},readString:function(r){return o.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},C.exports=i},{"../utils":32}],19:[function(l,C,m){var o=l("./Uint8ArrayReader");function i(r){o.call(this,r)}l("../utils").inherits(i,o),i.prototype.readData=function(r){this.checkOffset(r);var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},C.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,C,m){var o=l("./DataReader");function i(r){o.call(this,r)}l("../utils").inherits(i,o),i.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},i.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},i.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},i.prototype.readData=function(r){this.checkOffset(r);var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},C.exports=i},{"../utils":32,"./DataReader":18}],21:[function(l,C,m){var o=l("./ArrayReader");function i(r){o.call(this,r)}l("../utils").inherits(i,o),i.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},C.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(l,C,m){var o=l("../utils"),i=l("../support"),r=l("./ArrayReader"),c=l("./StringReader"),g=l("./NodeBufferReader"),y=l("./Uint8ArrayReader");C.exports=function(_){var b=o.getTypeOf(_);return o.checkSupport(b),b!=="string"||i.uint8array?b==="nodebuffer"?new g(_):i.uint8array?new y(o.transformTo("uint8array",_)):new r(o.transformTo("array",_)):new c(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,C,m){m.LOCAL_FILE_HEADER="PK",m.CENTRAL_FILE_HEADER="PK",m.CENTRAL_DIRECTORY_END="PK",m.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",m.ZIP64_CENTRAL_DIRECTORY_END="PK",m.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,C,m){var o=l("./GenericWorker"),i=l("../utils");function r(c){o.call(this,"ConvertWorker to "+c),this.destType=c}i.inherits(r,o),r.prototype.processChunk=function(c){this.push({data:i.transformTo(this.destType,c.data),meta:c.meta})},C.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(l,C,m){var o=l("./GenericWorker"),i=l("../crc32");function r(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(r,o),r.prototype.processChunk=function(c){this.streamInfo.crc32=i(c.data,this.streamInfo.crc32||0),this.push(c)},C.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,C,m){var o=l("../utils"),i=l("./GenericWorker");function r(c){i.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}o.inherits(r,i),r.prototype.processChunk=function(c){if(c){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+c.data.length}i.prototype.processChunk.call(this,c)},C.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(l,C,m){var o=l("../utils"),i=l("./GenericWorker");function r(c){i.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(y){g.dataIsReady=!0,g.data=y,g.max=y&&y.length||0,g.type=o.getTypeOf(y),g.isPaused||g._tickAndRepeat()},function(y){g.error(y)})}o.inherits(r,i),r.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,g);break;case"uint8array":c=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":c=this.data.slice(this.index,g)}return this.index=g,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},C.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(l,C,m){function o(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,r){return this._listeners[i].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,r){if(this._listeners[i])for(var c=0;c<this._listeners[i].length;c++)this._listeners[i][c].call(this,r)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var r=this;return i.on("data",function(c){r.processChunk(c)}),i.on("end",function(){r.end()}),i.on("error",function(c){r.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,r){return this.extraStreamInfo[i]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},C.exports=o},{}],29:[function(l,C,m){var o=l("../utils"),i=l("./ConvertWorker"),r=l("./GenericWorker"),c=l("../base64"),g=l("../support"),y=l("../external"),_=null;if(g.nodestream)try{_=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(f,n){return new y.Promise(function(u,a){var p=[],w=f._internalType,S=f._outputType,x=f._mimeType;f.on("data",function(L,T){p.push(L),n&&n(T)}).on("error",function(L){p=[],a(L)}).on("end",function(){try{var L=function(T,U,O){switch(T){case"blob":return o.newBlob(o.transformTo("arraybuffer",U),O);case"base64":return c.encode(U);default:return o.transformTo(T,U)}}(S,function(T,U){var O,Z=0,V=null,v=0;for(O=0;O<U.length;O++)v+=U[O].length;switch(T){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(V=new Uint8Array(v),O=0;O<U.length;O++)V.set(U[O],Z),Z+=U[O].length;return V;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+T+"'")}}(w,p),x);u(L)}catch(T){a(T)}p=[]}).resume()})}function s(f,n,u){var a=n;switch(n){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=n,this._mimeType=u,o.checkSupport(a),this._worker=f.pipe(new i(a)),f.lock()}catch(p){this._worker=new r("error"),this._worker.error(p)}}s.prototype={accumulate:function(f){return b(this,f)},on:function(f,n){var u=this;return f==="data"?this._worker.on(f,function(a){n.call(u,a.data,a.meta)}):this._worker.on(f,function(){o.delay(n,arguments,u)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(f){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},f)}},C.exports=s},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,C,m){if(m.base64=!0,m.array=!0,m.string=!0,m.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",m.nodebuffer=typeof Buffer<"u",m.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")m.blob=!1;else{var o=new ArrayBuffer(0);try{m.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(o),m.blob=i.getBlob("application/zip").size===0}catch{m.blob=!1}}}try{m.nodestream=!!l("readable-stream").Readable}catch{m.nodestream=!1}},{"readable-stream":16}],31:[function(l,C,m){for(var o=l("./utils"),i=l("./support"),r=l("./nodejsUtils"),c=l("./stream/GenericWorker"),g=new Array(256),y=0;y<256;y++)g[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;g[254]=g[254]=1;function _(){c.call(this,"utf-8 decode"),this.leftOver=null}function b(){c.call(this,"utf-8 encode")}m.utf8encode=function(s){return i.nodebuffer?r.newBufferFrom(s,"utf-8"):function(f){var n,u,a,p,w,S=f.length,x=0;for(p=0;p<S;p++)(64512&(u=f.charCodeAt(p)))==55296&&p+1<S&&(64512&(a=f.charCodeAt(p+1)))==56320&&(u=65536+(u-55296<<10)+(a-56320),p++),x+=u<128?1:u<2048?2:u<65536?3:4;for(n=i.uint8array?new Uint8Array(x):new Array(x),p=w=0;w<x;p++)(64512&(u=f.charCodeAt(p)))==55296&&p+1<S&&(64512&(a=f.charCodeAt(p+1)))==56320&&(u=65536+(u-55296<<10)+(a-56320),p++),u<128?n[w++]=u:(u<2048?n[w++]=192|u>>>6:(u<65536?n[w++]=224|u>>>12:(n[w++]=240|u>>>18,n[w++]=128|u>>>12&63),n[w++]=128|u>>>6&63),n[w++]=128|63&u);return n}(s)},m.utf8decode=function(s){return i.nodebuffer?o.transformTo("nodebuffer",s).toString("utf-8"):function(f){var n,u,a,p,w=f.length,S=new Array(2*w);for(n=u=0;n<w;)if((a=f[n++])<128)S[u++]=a;else if(4<(p=g[a]))S[u++]=65533,n+=p-1;else{for(a&=p===2?31:p===3?15:7;1<p&&n<w;)a=a<<6|63&f[n++],p--;1<p?S[u++]=65533:a<65536?S[u++]=a:(a-=65536,S[u++]=55296|a>>10&1023,S[u++]=56320|1023&a)}return S.length!==u&&(S.subarray?S=S.subarray(0,u):S.length=u),o.applyFromCharCode(S)}(s=o.transformTo(i.uint8array?"uint8array":"array",s))},o.inherits(_,c),_.prototype.processChunk=function(s){var f=o.transformTo(i.uint8array?"uint8array":"array",s.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var n=f;(f=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),f.set(n,this.leftOver.length)}else f=this.leftOver.concat(f);this.leftOver=null}var u=function(p,w){var S;for((w=w||p.length)>p.length&&(w=p.length),S=w-1;0<=S&&(192&p[S])==128;)S--;return S<0||S===0?w:S+g[p[S]]>w?S:w}(f),a=f;u!==f.length&&(i.uint8array?(a=f.subarray(0,u),this.leftOver=f.subarray(u,f.length)):(a=f.slice(0,u),this.leftOver=f.slice(u,f.length))),this.push({data:m.utf8decode(a),meta:s.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:m.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},m.Utf8DecodeWorker=_,o.inherits(b,c),b.prototype.processChunk=function(s){this.push({data:m.utf8encode(s.data),meta:s.meta})},m.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,C,m){var o=l("./support"),i=l("./base64"),r=l("./nodejsUtils"),c=l("./external");function g(n){return n}function y(n,u){for(var a=0;a<n.length;++a)u[a]=255&n.charCodeAt(a);return u}l("setimmediate"),m.newBlob=function(n,u){m.checkSupport("blob");try{return new Blob([n],{type:u})}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(n),a.getBlob(u)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(n,u,a){var p=[],w=0,S=n.length;if(S<=a)return String.fromCharCode.apply(null,n);for(;w<S;)u==="array"||u==="nodebuffer"?p.push(String.fromCharCode.apply(null,n.slice(w,Math.min(w+a,S)))):p.push(String.fromCharCode.apply(null,n.subarray(w,Math.min(w+a,S)))),w+=a;return p.join("")},stringifyByChar:function(n){for(var u="",a=0;a<n.length;a++)u+=String.fromCharCode(n[a]);return u},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function b(n){var u=65536,a=m.getTypeOf(n),p=!0;if(a==="uint8array"?p=_.applyCanBeUsed.uint8array:a==="nodebuffer"&&(p=_.applyCanBeUsed.nodebuffer),p)for(;1<u;)try{return _.stringifyByChunk(n,a,u)}catch{u=Math.floor(u/2)}return _.stringifyByChar(n)}function s(n,u){for(var a=0;a<n.length;a++)u[a]=n[a];return u}m.applyFromCharCode=b;var f={};f.string={string:g,array:function(n){return y(n,new Array(n.length))},arraybuffer:function(n){return f.string.uint8array(n).buffer},uint8array:function(n){return y(n,new Uint8Array(n.length))},nodebuffer:function(n){return y(n,r.allocBuffer(n.length))}},f.array={string:b,array:g,arraybuffer:function(n){return new Uint8Array(n).buffer},uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return r.newBufferFrom(n)}},f.arraybuffer={string:function(n){return b(new Uint8Array(n))},array:function(n){return s(new Uint8Array(n),new Array(n.byteLength))},arraybuffer:g,uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return r.newBufferFrom(new Uint8Array(n))}},f.uint8array={string:b,array:function(n){return s(n,new Array(n.length))},arraybuffer:function(n){return n.buffer},uint8array:g,nodebuffer:function(n){return r.newBufferFrom(n)}},f.nodebuffer={string:b,array:function(n){return s(n,new Array(n.length))},arraybuffer:function(n){return f.nodebuffer.uint8array(n).buffer},uint8array:function(n){return s(n,new Uint8Array(n.length))},nodebuffer:g},m.transformTo=function(n,u){if(u=u||"",!n)return u;m.checkSupport(n);var a=m.getTypeOf(u);return f[a][n](u)},m.resolve=function(n){for(var u=n.split("/"),a=[],p=0;p<u.length;p++){var w=u[p];w==="."||w===""&&p!==0&&p!==u.length-1||(w===".."?a.pop():a.push(w))}return a.join("/")},m.getTypeOf=function(n){return typeof n=="string"?"string":Object.prototype.toString.call(n)==="[object Array]"?"array":o.nodebuffer&&r.isBuffer(n)?"nodebuffer":o.uint8array&&n instanceof Uint8Array?"uint8array":o.arraybuffer&&n instanceof ArrayBuffer?"arraybuffer":void 0},m.checkSupport=function(n){if(!o[n.toLowerCase()])throw new Error(n+" is not supported by this platform")},m.MAX_VALUE_16BITS=65535,m.MAX_VALUE_32BITS=-1,m.pretty=function(n){var u,a,p="";for(a=0;a<(n||"").length;a++)p+="\\x"+((u=n.charCodeAt(a))<16?"0":"")+u.toString(16).toUpperCase();return p},m.delay=function(n,u,a){setImmediate(function(){n.apply(a||null,u||[])})},m.inherits=function(n,u){function a(){}a.prototype=u.prototype,n.prototype=new a},m.extend=function(){var n,u,a={};for(n=0;n<arguments.length;n++)for(u in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],u)&&a[u]===void 0&&(a[u]=arguments[n][u]);return a},m.prepareContent=function(n,u,a,p,w){return c.Promise.resolve(u).then(function(S){return o.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new c.Promise(function(x,L){var T=new FileReader;T.onload=function(U){x(U.target.result)},T.onerror=function(U){L(U.target.error)},T.readAsArrayBuffer(S)}):S}).then(function(S){var x=m.getTypeOf(S);return x?(x==="arraybuffer"?S=m.transformTo("uint8array",S):x==="string"&&(w?S=i.decode(S):a&&p!==!0&&(S=function(L){return y(L,o.uint8array?new Uint8Array(L.length):new Array(L.length))}(S))),S):c.Promise.reject(new Error("Can't read the data of '"+n+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(l,C,m){var o=l("./reader/readerFor"),i=l("./utils"),r=l("./signature"),c=l("./zipEntry"),g=l("./support");function y(_){this.files=[],this.loadOptions=_}y.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(b)+", expected "+i.pretty(_)+")")}},isSignature:function(_,b){var s=this.reader.index;this.reader.setIndex(_);var f=this.reader.readString(4)===b;return this.reader.setIndex(s),f},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),b=g.uint8array?"uint8array":"array",s=i.transformTo(b,_);this.zipComment=this.loadOptions.decodeFileName(s)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,b,s,f=this.zip64EndOfCentralSize-44;0<f;)_=this.reader.readInt(2),b=this.reader.readInt(4),s=this.reader.readData(b),this.zip64ExtensibleData[_]={id:_,length:b,value:s}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,b;for(_=0;_<this.files.length;_++)b=this.files[_],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(_=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var b=_;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var s=this.centralDirOffset+this.centralDirSize;this.zip64&&(s+=20,s+=12+this.zip64EndOfCentralSize);var f=b-s;if(0<f)this.isSignature(b,r.CENTRAL_FILE_HEADER)||(this.reader.zero=f);else if(f<0)throw new Error("Corrupted zip: missing "+Math.abs(f)+" bytes.")},prepareReader:function(_){this.reader=o(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},C.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(l,C,m){var o=l("./reader/readerFor"),i=l("./utils"),r=l("./compressedObject"),c=l("./crc32"),g=l("./utf8"),y=l("./compressions"),_=l("./support");function b(s,f){this.options=s,this.loadOptions=f}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(s){var f,n;if(s.skip(22),this.fileNameLength=s.readInt(2),n=s.readInt(2),this.fileName=s.readData(this.fileNameLength),s.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((f=function(u){for(var a in y)if(Object.prototype.hasOwnProperty.call(y,a)&&y[a].magic===u)return y[a];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,f,s.readData(this.compressedSize))},readCentralPart:function(s){this.versionMadeBy=s.readInt(2),s.skip(2),this.bitFlag=s.readInt(2),this.compressionMethod=s.readString(2),this.date=s.readDate(),this.crc32=s.readInt(4),this.compressedSize=s.readInt(4),this.uncompressedSize=s.readInt(4);var f=s.readInt(2);if(this.extraFieldsLength=s.readInt(2),this.fileCommentLength=s.readInt(2),this.diskNumberStart=s.readInt(2),this.internalFileAttributes=s.readInt(2),this.externalFileAttributes=s.readInt(4),this.localHeaderOffset=s.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");s.skip(f),this.readExtraFields(s),this.parseZIP64ExtraField(s),this.fileComment=s.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var s=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),s==0&&(this.dosPermissions=63&this.externalFileAttributes),s==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var s=o(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=s.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=s.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=s.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=s.readInt(4))}},readExtraFields:function(s){var f,n,u,a=s.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});s.index+4<a;)f=s.readInt(2),n=s.readInt(2),u=s.readData(n),this.extraFields[f]={id:f,length:n,value:u};s.setIndex(a)},handleUTF8:function(){var s=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();if(f!==null)this.fileNameStr=f;else{var n=i.transformTo(s,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var u=this.findExtraFieldUnicodeComment();if(u!==null)this.fileCommentStr=u;else{var a=i.transformTo(s,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var s=this.extraFields[28789];if(s){var f=o(s.value);return f.readInt(1)!==1||c(this.fileName)!==f.readInt(4)?null:g.utf8decode(f.readData(s.length-5))}return null},findExtraFieldUnicodeComment:function(){var s=this.extraFields[25461];if(s){var f=o(s.value);return f.readInt(1)!==1||c(this.fileComment)!==f.readInt(4)?null:g.utf8decode(f.readData(s.length-5))}return null}},C.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,C,m){function o(f,n,u){this.name=f,this.dir=u.dir,this.date=u.date,this.comment=u.comment,this.unixPermissions=u.unixPermissions,this.dosPermissions=u.dosPermissions,this._data=n,this._dataBinary=u.binary,this.options={compression:u.compression,compressionOptions:u.compressionOptions}}var i=l("./stream/StreamHelper"),r=l("./stream/DataWorker"),c=l("./utf8"),g=l("./compressedObject"),y=l("./stream/GenericWorker");o.prototype={internalStream:function(f){var n=null,u="string";try{if(!f)throw new Error("No output type specified.");var a=(u=f.toLowerCase())==="string"||u==="text";u!=="binarystring"&&u!=="text"||(u="string"),n=this._decompressWorker();var p=!this._dataBinary;p&&!a&&(n=n.pipe(new c.Utf8EncodeWorker)),!p&&a&&(n=n.pipe(new c.Utf8DecodeWorker))}catch(w){(n=new y("error")).error(w)}return new i(n,u,"")},async:function(f,n){return this.internalStream(f).accumulate(n)},nodeStream:function(f,n){return this.internalStream(f||"nodebuffer").toNodejsStream(n)},_compressWorker:function(f,n){if(this._data instanceof g&&this._data.compression.magic===f.magic)return this._data.getCompressedWorker();var u=this._decompressWorker();return this._dataBinary||(u=u.pipe(new c.Utf8EncodeWorker)),g.createWorkerFrom(u,f,n)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof y?this._data:new r(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},s=0;s<_.length;s++)o.prototype[_[s]]=b;C.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,C,m){(function(o){var i,r,c=o.MutationObserver||o.WebKitMutationObserver;if(c){var g=0,y=new c(f),_=o.document.createTextNode("");y.observe(_,{characterData:!0}),i=function(){_.data=g=++g%2}}else if(o.setImmediate||o.MessageChannel===void 0)i="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var n=o.document.createElement("script");n.onreadystatechange=function(){f(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},o.document.documentElement.appendChild(n)}:function(){setTimeout(f,0)};else{var b=new o.MessageChannel;b.port1.onmessage=f,i=function(){b.port2.postMessage(0)}}var s=[];function f(){var n,u;r=!0;for(var a=s.length;a;){for(u=s,s=[],n=-1;++n<a;)u[n]();a=s.length}r=!1}C.exports=function(n){s.push(n)!==1||r||i()}}).call(this,typeof xt<"u"?xt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,C,m){var o=l("immediate");function i(){}var r={},c=["REJECTED"],g=["FULFILLED"],y=["PENDING"];function _(a){if(typeof a!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,a!==i&&n(this,a)}function b(a,p,w){this.promise=a,typeof p=="function"&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function s(a,p,w){o(function(){var S;try{S=p(w)}catch(x){return r.reject(a,x)}S===a?r.reject(a,new TypeError("Cannot resolve promise with itself")):r.resolve(a,S)})}function f(a){var p=a&&a.then;if(a&&(typeof a=="object"||typeof a=="function")&&typeof p=="function")return function(){p.apply(a,arguments)}}function n(a,p){var w=!1;function S(T){w||(w=!0,r.reject(a,T))}function x(T){w||(w=!0,r.resolve(a,T))}var L=u(function(){p(x,S)});L.status==="error"&&S(L.value)}function u(a,p){var w={};try{w.value=a(p),w.status="success"}catch(S){w.status="error",w.value=S}return w}(C.exports=_).prototype.finally=function(a){if(typeof a!="function")return this;var p=this.constructor;return this.then(function(w){return p.resolve(a()).then(function(){return w})},function(w){return p.resolve(a()).then(function(){throw w})})},_.prototype.catch=function(a){return this.then(null,a)},_.prototype.then=function(a,p){if(typeof a!="function"&&this.state===g||typeof p!="function"&&this.state===c)return this;var w=new this.constructor(i);return this.state!==y?s(w,this.state===g?a:p,this.outcome):this.queue.push(new b(w,a,p)),w},b.prototype.callFulfilled=function(a){r.resolve(this.promise,a)},b.prototype.otherCallFulfilled=function(a){s(this.promise,this.onFulfilled,a)},b.prototype.callRejected=function(a){r.reject(this.promise,a)},b.prototype.otherCallRejected=function(a){s(this.promise,this.onRejected,a)},r.resolve=function(a,p){var w=u(f,p);if(w.status==="error")return r.reject(a,w.value);var S=w.value;if(S)n(a,S);else{a.state=g,a.outcome=p;for(var x=-1,L=a.queue.length;++x<L;)a.queue[x].callFulfilled(p)}return a},r.reject=function(a,p){a.state=c,a.outcome=p;for(var w=-1,S=a.queue.length;++w<S;)a.queue[w].callRejected(p);return a},_.resolve=function(a){return a instanceof this?a:r.resolve(new this(i),a)},_.reject=function(a){var p=new this(i);return r.reject(p,a)},_.all=function(a){var p=this;if(Object.prototype.toString.call(a)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=a.length,S=!1;if(!w)return this.resolve([]);for(var x=new Array(w),L=0,T=-1,U=new this(i);++T<w;)O(a[T],T);return U;function O(Z,V){p.resolve(Z).then(function(v){x[V]=v,++L!==w||S||(S=!0,r.resolve(U,x))},function(v){S||(S=!0,r.reject(U,v))})}},_.race=function(a){var p=this;if(Object.prototype.toString.call(a)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=a.length,S=!1;if(!w)return this.resolve([]);for(var x=-1,L=new this(i);++x<w;)T=a[x],p.resolve(T).then(function(U){S||(S=!0,r.resolve(L,U))},function(U){S||(S=!0,r.reject(L,U))});var T;return L}},{immediate:36}],38:[function(l,C,m){var o={};(0,l("./lib/utils/common").assign)(o,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),C.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,C,m){var o=l("./zlib/deflate"),i=l("./utils/common"),r=l("./utils/strings"),c=l("./zlib/messages"),g=l("./zlib/zstream"),y=Object.prototype.toString,_=0,b=-1,s=0,f=8;function n(a){if(!(this instanceof n))return new n(a);this.options=i.assign({level:b,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:s,to:""},a||{});var p=this.options;p.raw&&0<p.windowBits?p.windowBits=-p.windowBits:p.gzip&&0<p.windowBits&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var w=o.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(w!==_)throw new Error(c[w]);if(p.header&&o.deflateSetHeader(this.strm,p.header),p.dictionary){var S;if(S=typeof p.dictionary=="string"?r.string2buf(p.dictionary):y.call(p.dictionary)==="[object ArrayBuffer]"?new Uint8Array(p.dictionary):p.dictionary,(w=o.deflateSetDictionary(this.strm,S))!==_)throw new Error(c[w]);this._dict_set=!0}}function u(a,p){var w=new n(p);if(w.push(a,!0),w.err)throw w.msg||c[w.err];return w.result}n.prototype.push=function(a,p){var w,S,x=this.strm,L=this.options.chunkSize;if(this.ended)return!1;S=p===~~p?p:p===!0?4:0,typeof a=="string"?x.input=r.string2buf(a):y.call(a)==="[object ArrayBuffer]"?x.input=new Uint8Array(a):x.input=a,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new i.Buf8(L),x.next_out=0,x.avail_out=L),(w=o.deflate(x,S))!==1&&w!==_)return this.onEnd(w),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(i.shrinkBuf(x.output,x.next_out))):this.onData(i.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&w!==1);return S===4?(w=o.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===_):S!==2||(this.onEnd(_),!(x.avail_out=0))},n.prototype.onData=function(a){this.chunks.push(a)},n.prototype.onEnd=function(a){a===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},m.Deflate=n,m.deflate=u,m.deflateRaw=function(a,p){return(p=p||{}).raw=!0,u(a,p)},m.gzip=function(a,p){return(p=p||{}).gzip=!0,u(a,p)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,C,m){var o=l("./zlib/inflate"),i=l("./utils/common"),r=l("./utils/strings"),c=l("./zlib/constants"),g=l("./zlib/messages"),y=l("./zlib/zstream"),_=l("./zlib/gzheader"),b=Object.prototype.toString;function s(n){if(!(this instanceof s))return new s(n);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},n||{});var u=this.options;u.raw&&0<=u.windowBits&&u.windowBits<16&&(u.windowBits=-u.windowBits,u.windowBits===0&&(u.windowBits=-15)),!(0<=u.windowBits&&u.windowBits<16)||n&&n.windowBits||(u.windowBits+=32),15<u.windowBits&&u.windowBits<48&&!(15&u.windowBits)&&(u.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var a=o.inflateInit2(this.strm,u.windowBits);if(a!==c.Z_OK)throw new Error(g[a]);this.header=new _,o.inflateGetHeader(this.strm,this.header)}function f(n,u){var a=new s(u);if(a.push(n,!0),a.err)throw a.msg||g[a.err];return a.result}s.prototype.push=function(n,u){var a,p,w,S,x,L,T=this.strm,U=this.options.chunkSize,O=this.options.dictionary,Z=!1;if(this.ended)return!1;p=u===~~u?u:u===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof n=="string"?T.input=r.binstring2buf(n):b.call(n)==="[object ArrayBuffer]"?T.input=new Uint8Array(n):T.input=n,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new i.Buf8(U),T.next_out=0,T.avail_out=U),(a=o.inflate(T,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&O&&(L=typeof O=="string"?r.string2buf(O):b.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,a=o.inflateSetDictionary(this.strm,L)),a===c.Z_BUF_ERROR&&Z===!0&&(a=c.Z_OK,Z=!1),a!==c.Z_STREAM_END&&a!==c.Z_OK)return this.onEnd(a),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&a!==c.Z_STREAM_END&&(T.avail_in!==0||p!==c.Z_FINISH&&p!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=r.utf8border(T.output,T.next_out),S=T.next_out-w,x=r.buf2string(T.output,w),T.next_out=S,T.avail_out=U-S,S&&i.arraySet(T.output,T.output,w,S,0),this.onData(x)):this.onData(i.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(Z=!0)}while((0<T.avail_in||T.avail_out===0)&&a!==c.Z_STREAM_END);return a===c.Z_STREAM_END&&(p=c.Z_FINISH),p===c.Z_FINISH?(a=o.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===c.Z_OK):p!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(T.avail_out=0))},s.prototype.onData=function(n){this.chunks.push(n)},s.prototype.onEnd=function(n){n===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg},m.Inflate=s,m.inflate=f,m.inflateRaw=function(n,u){return(u=u||{}).raw=!0,f(n,u)},m.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,C,m){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";m.assign=function(c){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var y=g.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var _ in y)y.hasOwnProperty(_)&&(c[_]=y[_])}}return c},m.shrinkBuf=function(c,g){return c.length===g?c:c.subarray?c.subarray(0,g):(c.length=g,c)};var i={arraySet:function(c,g,y,_,b){if(g.subarray&&c.subarray)c.set(g.subarray(y,y+_),b);else for(var s=0;s<_;s++)c[b+s]=g[y+s]},flattenChunks:function(c){var g,y,_,b,s,f;for(g=_=0,y=c.length;g<y;g++)_+=c[g].length;for(f=new Uint8Array(_),g=b=0,y=c.length;g<y;g++)s=c[g],f.set(s,b),b+=s.length;return f}},r={arraySet:function(c,g,y,_,b){for(var s=0;s<_;s++)c[b+s]=g[y+s]},flattenChunks:function(c){return[].concat.apply([],c)}};m.setTyped=function(c){c?(m.Buf8=Uint8Array,m.Buf16=Uint16Array,m.Buf32=Int32Array,m.assign(m,i)):(m.Buf8=Array,m.Buf16=Array,m.Buf32=Array,m.assign(m,r))},m.setTyped(o)},{}],42:[function(l,C,m){var o=l("./common"),i=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var c=new o.Buf8(256),g=0;g<256;g++)c[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function y(_,b){if(b<65537&&(_.subarray&&r||!_.subarray&&i))return String.fromCharCode.apply(null,o.shrinkBuf(_,b));for(var s="",f=0;f<b;f++)s+=String.fromCharCode(_[f]);return s}c[254]=c[254]=1,m.string2buf=function(_){var b,s,f,n,u,a=_.length,p=0;for(n=0;n<a;n++)(64512&(s=_.charCodeAt(n)))==55296&&n+1<a&&(64512&(f=_.charCodeAt(n+1)))==56320&&(s=65536+(s-55296<<10)+(f-56320),n++),p+=s<128?1:s<2048?2:s<65536?3:4;for(b=new o.Buf8(p),n=u=0;u<p;n++)(64512&(s=_.charCodeAt(n)))==55296&&n+1<a&&(64512&(f=_.charCodeAt(n+1)))==56320&&(s=65536+(s-55296<<10)+(f-56320),n++),s<128?b[u++]=s:(s<2048?b[u++]=192|s>>>6:(s<65536?b[u++]=224|s>>>12:(b[u++]=240|s>>>18,b[u++]=128|s>>>12&63),b[u++]=128|s>>>6&63),b[u++]=128|63&s);return b},m.buf2binstring=function(_){return y(_,_.length)},m.binstring2buf=function(_){for(var b=new o.Buf8(_.length),s=0,f=b.length;s<f;s++)b[s]=_.charCodeAt(s);return b},m.buf2string=function(_,b){var s,f,n,u,a=b||_.length,p=new Array(2*a);for(s=f=0;s<a;)if((n=_[s++])<128)p[f++]=n;else if(4<(u=c[n]))p[f++]=65533,s+=u-1;else{for(n&=u===2?31:u===3?15:7;1<u&&s<a;)n=n<<6|63&_[s++],u--;1<u?p[f++]=65533:n<65536?p[f++]=n:(n-=65536,p[f++]=55296|n>>10&1023,p[f++]=56320|1023&n)}return y(p,f)},m.utf8border=function(_,b){var s;for((b=b||_.length)>_.length&&(b=_.length),s=b-1;0<=s&&(192&_[s])==128;)s--;return s<0||s===0?b:s+c[_[s]]>b?s:b}},{"./common":41}],43:[function(l,C,m){C.exports=function(o,i,r,c){for(var g=65535&o|0,y=o>>>16&65535|0,_=0;r!==0;){for(r-=_=2e3<r?2e3:r;y=y+(g=g+i[c++]|0)|0,--_;);g%=65521,y%=65521}return g|y<<16|0}},{}],44:[function(l,C,m){C.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,C,m){var o=function(){for(var i,r=[],c=0;c<256;c++){i=c;for(var g=0;g<8;g++)i=1&i?3988292384^i>>>1:i>>>1;r[c]=i}return r}();C.exports=function(i,r,c,g){var y=o,_=g+c;i^=-1;for(var b=g;b<_;b++)i=i>>>8^y[255&(i^r[b])];return-1^i}},{}],46:[function(l,C,m){var o,i=l("../utils/common"),r=l("./trees"),c=l("./adler32"),g=l("./crc32"),y=l("./messages"),_=0,b=4,s=0,f=-2,n=-1,u=4,a=2,p=8,w=9,S=286,x=30,L=19,T=2*S+1,U=15,O=3,Z=258,V=Z+O+1,v=42,B=113,e=1,F=2,Q=3,j=4;function tt(t,R){return t.msg=y[R],R}function W(t){return(t<<1)-(4<t?9:0)}function X(t){for(var R=t.length;0<=--R;)t[R]=0}function z(t){var R=t.state,I=R.pending;I>t.avail_out&&(I=t.avail_out),I!==0&&(i.arraySet(t.output,R.pending_buf,R.pending_out,I,t.next_out),t.next_out+=I,R.pending_out+=I,t.total_out+=I,t.avail_out-=I,R.pending-=I,R.pending===0&&(R.pending_out=0))}function A(t,R){r._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,R),t.block_start=t.strstart,z(t.strm)}function J(t,R){t.pending_buf[t.pending++]=R}function q(t,R){t.pending_buf[t.pending++]=R>>>8&255,t.pending_buf[t.pending++]=255&R}function $(t,R){var I,h,d=t.max_chain_length,k=t.strstart,N=t.prev_length,P=t.nice_match,E=t.strstart>t.w_size-V?t.strstart-(t.w_size-V):0,M=t.window,K=t.w_mask,H=t.prev,Y=t.strstart+Z,it=M[k+N-1],rt=M[k+N];t.prev_length>=t.good_match&&(d>>=2),P>t.lookahead&&(P=t.lookahead);do if(M[(I=R)+N]===rt&&M[I+N-1]===it&&M[I]===M[k]&&M[++I]===M[k+1]){k+=2,I++;do;while(M[++k]===M[++I]&&M[++k]===M[++I]&&M[++k]===M[++I]&&M[++k]===M[++I]&&M[++k]===M[++I]&&M[++k]===M[++I]&&M[++k]===M[++I]&&M[++k]===M[++I]&&k<Y);if(h=Z-(Y-k),k=Y-Z,N<h){if(t.match_start=R,P<=(N=h))break;it=M[k+N-1],rt=M[k+N]}}while((R=H[R&K])>E&&--d!=0);return N<=t.lookahead?N:t.lookahead}function st(t){var R,I,h,d,k,N,P,E,M,K,H=t.w_size;do{if(d=t.window_size-t.lookahead-t.strstart,t.strstart>=H+(H-V)){for(i.arraySet(t.window,t.window,H,H,0),t.match_start-=H,t.strstart-=H,t.block_start-=H,R=I=t.hash_size;h=t.head[--R],t.head[R]=H<=h?h-H:0,--I;);for(R=I=H;h=t.prev[--R],t.prev[R]=H<=h?h-H:0,--I;);d+=H}if(t.strm.avail_in===0)break;if(N=t.strm,P=t.window,E=t.strstart+t.lookahead,M=d,K=void 0,K=N.avail_in,M<K&&(K=M),I=K===0?0:(N.avail_in-=K,i.arraySet(P,N.input,N.next_in,K,E),N.state.wrap===1?N.adler=c(N.adler,P,K,E):N.state.wrap===2&&(N.adler=g(N.adler,P,K,E)),N.next_in+=K,N.total_in+=K,K),t.lookahead+=I,t.lookahead+t.insert>=O)for(k=t.strstart-t.insert,t.ins_h=t.window[k],t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+O-1])&t.hash_mask,t.prev[k&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=k,k++,t.insert--,!(t.lookahead+t.insert<O)););}while(t.lookahead<V&&t.strm.avail_in!==0)}function dt(t,R){for(var I,h;;){if(t.lookahead<V){if(st(t),t.lookahead<V&&R===_)return e;if(t.lookahead===0)break}if(I=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),I!==0&&t.strstart-I<=t.w_size-V&&(t.match_length=$(t,I)),t.match_length>=O)if(h=r._tr_tally(t,t.strstart-t.match_start,t.match_length-O),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=O){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else h=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(h&&(A(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<O-1?t.strstart:O-1,R===b?(A(t,!0),t.strm.avail_out===0?Q:j):t.last_lit&&(A(t,!1),t.strm.avail_out===0)?e:F}function et(t,R){for(var I,h,d;;){if(t.lookahead<V){if(st(t),t.lookahead<V&&R===_)return e;if(t.lookahead===0)break}if(I=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=O-1,I!==0&&t.prev_length<t.max_lazy_match&&t.strstart-I<=t.w_size-V&&(t.match_length=$(t,I),t.match_length<=5&&(t.strategy===1||t.match_length===O&&4096<t.strstart-t.match_start)&&(t.match_length=O-1)),t.prev_length>=O&&t.match_length<=t.prev_length){for(d=t.strstart+t.lookahead-O,h=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-O),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=d&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=O-1,t.strstart++,h&&(A(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((h=r._tr_tally(t,0,t.window[t.strstart-1]))&&A(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(h=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<O-1?t.strstart:O-1,R===b?(A(t,!0),t.strm.avail_out===0?Q:j):t.last_lit&&(A(t,!1),t.strm.avail_out===0)?e:F}function nt(t,R,I,h,d){this.good_length=t,this.max_lazy=R,this.nice_length=I,this.max_chain=h,this.func=d}function lt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*T),this.dyn_dtree=new i.Buf16(2*(2*x+1)),this.bl_tree=new i.Buf16(2*(2*L+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(U+1),this.heap=new i.Buf16(2*S+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*S+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(t){var R;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=a,(R=t.state).pending=0,R.pending_out=0,R.wrap<0&&(R.wrap=-R.wrap),R.status=R.wrap?v:B,t.adler=R.wrap===2?0:1,R.last_flush=_,r._tr_init(R),s):tt(t,f)}function pt(t){var R=at(t);return R===s&&function(I){I.window_size=2*I.w_size,X(I.head),I.max_lazy_match=o[I.level].max_lazy,I.good_match=o[I.level].good_length,I.nice_match=o[I.level].nice_length,I.max_chain_length=o[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=O-1,I.match_available=0,I.ins_h=0}(t.state),R}function ft(t,R,I,h,d,k){if(!t)return f;var N=1;if(R===n&&(R=6),h<0?(N=0,h=-h):15<h&&(N=2,h-=16),d<1||w<d||I!==p||h<8||15<h||R<0||9<R||k<0||u<k)return tt(t,f);h===8&&(h=9);var P=new lt;return(t.state=P).strm=t,P.wrap=N,P.gzhead=null,P.w_bits=h,P.w_size=1<<P.w_bits,P.w_mask=P.w_size-1,P.hash_bits=d+7,P.hash_size=1<<P.hash_bits,P.hash_mask=P.hash_size-1,P.hash_shift=~~((P.hash_bits+O-1)/O),P.window=new i.Buf8(2*P.w_size),P.head=new i.Buf16(P.hash_size),P.prev=new i.Buf16(P.w_size),P.lit_bufsize=1<<d+6,P.pending_buf_size=4*P.lit_bufsize,P.pending_buf=new i.Buf8(P.pending_buf_size),P.d_buf=1*P.lit_bufsize,P.l_buf=3*P.lit_bufsize,P.level=R,P.strategy=k,P.method=I,pt(t)}o=[new nt(0,0,0,0,function(t,R){var I=65535;for(I>t.pending_buf_size-5&&(I=t.pending_buf_size-5);;){if(t.lookahead<=1){if(st(t),t.lookahead===0&&R===_)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var h=t.block_start+I;if((t.strstart===0||t.strstart>=h)&&(t.lookahead=t.strstart-h,t.strstart=h,A(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-V&&(A(t,!1),t.strm.avail_out===0))return e}return t.insert=0,R===b?(A(t,!0),t.strm.avail_out===0?Q:j):(t.strstart>t.block_start&&(A(t,!1),t.strm.avail_out),e)}),new nt(4,4,8,4,dt),new nt(4,5,16,8,dt),new nt(4,6,32,32,dt),new nt(4,4,16,16,et),new nt(8,16,32,32,et),new nt(8,16,128,128,et),new nt(8,32,128,256,et),new nt(32,128,258,1024,et),new nt(32,258,258,4096,et)],m.deflateInit=function(t,R){return ft(t,R,p,15,8,0)},m.deflateInit2=ft,m.deflateReset=pt,m.deflateResetKeep=at,m.deflateSetHeader=function(t,R){return t&&t.state?t.state.wrap!==2?f:(t.state.gzhead=R,s):f},m.deflate=function(t,R){var I,h,d,k;if(!t||!t.state||5<R||R<0)return t?tt(t,f):f;if(h=t.state,!t.output||!t.input&&t.avail_in!==0||h.status===666&&R!==b)return tt(t,t.avail_out===0?-5:f);if(h.strm=t,I=h.last_flush,h.last_flush=R,h.status===v)if(h.wrap===2)t.adler=0,J(h,31),J(h,139),J(h,8),h.gzhead?(J(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),J(h,255&h.gzhead.time),J(h,h.gzhead.time>>8&255),J(h,h.gzhead.time>>16&255),J(h,h.gzhead.time>>24&255),J(h,h.level===9?2:2<=h.strategy||h.level<2?4:0),J(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(J(h,255&h.gzhead.extra.length),J(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(t.adler=g(t.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=69):(J(h,0),J(h,0),J(h,0),J(h,0),J(h,0),J(h,h.level===9?2:2<=h.strategy||h.level<2?4:0),J(h,3),h.status=B);else{var N=p+(h.w_bits-8<<4)<<8;N|=(2<=h.strategy||h.level<2?0:h.level<6?1:h.level===6?2:3)<<6,h.strstart!==0&&(N|=32),N+=31-N%31,h.status=B,q(h,N),h.strstart!==0&&(q(h,t.adler>>>16),q(h,65535&t.adler)),t.adler=1}if(h.status===69)if(h.gzhead.extra){for(d=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>d&&(t.adler=g(t.adler,h.pending_buf,h.pending-d,d)),z(t),d=h.pending,h.pending!==h.pending_buf_size));)J(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>d&&(t.adler=g(t.adler,h.pending_buf,h.pending-d,d)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=73)}else h.status=73;if(h.status===73)if(h.gzhead.name){d=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>d&&(t.adler=g(t.adler,h.pending_buf,h.pending-d,d)),z(t),d=h.pending,h.pending===h.pending_buf_size)){k=1;break}k=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,J(h,k)}while(k!==0);h.gzhead.hcrc&&h.pending>d&&(t.adler=g(t.adler,h.pending_buf,h.pending-d,d)),k===0&&(h.gzindex=0,h.status=91)}else h.status=91;if(h.status===91)if(h.gzhead.comment){d=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>d&&(t.adler=g(t.adler,h.pending_buf,h.pending-d,d)),z(t),d=h.pending,h.pending===h.pending_buf_size)){k=1;break}k=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,J(h,k)}while(k!==0);h.gzhead.hcrc&&h.pending>d&&(t.adler=g(t.adler,h.pending_buf,h.pending-d,d)),k===0&&(h.status=103)}else h.status=103;if(h.status===103&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&z(t),h.pending+2<=h.pending_buf_size&&(J(h,255&t.adler),J(h,t.adler>>8&255),t.adler=0,h.status=B)):h.status=B),h.pending!==0){if(z(t),t.avail_out===0)return h.last_flush=-1,s}else if(t.avail_in===0&&W(R)<=W(I)&&R!==b)return tt(t,-5);if(h.status===666&&t.avail_in!==0)return tt(t,-5);if(t.avail_in!==0||h.lookahead!==0||R!==_&&h.status!==666){var P=h.strategy===2?function(E,M){for(var K;;){if(E.lookahead===0&&(st(E),E.lookahead===0)){if(M===_)return e;break}if(E.match_length=0,K=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++,K&&(A(E,!1),E.strm.avail_out===0))return e}return E.insert=0,M===b?(A(E,!0),E.strm.avail_out===0?Q:j):E.last_lit&&(A(E,!1),E.strm.avail_out===0)?e:F}(h,R):h.strategy===3?function(E,M){for(var K,H,Y,it,rt=E.window;;){if(E.lookahead<=Z){if(st(E),E.lookahead<=Z&&M===_)return e;if(E.lookahead===0)break}if(E.match_length=0,E.lookahead>=O&&0<E.strstart&&(H=rt[Y=E.strstart-1])===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]){it=E.strstart+Z;do;while(H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&Y<it);E.match_length=Z-(it-Y),E.match_length>E.lookahead&&(E.match_length=E.lookahead)}if(E.match_length>=O?(K=r._tr_tally(E,1,E.match_length-O),E.lookahead-=E.match_length,E.strstart+=E.match_length,E.match_length=0):(K=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++),K&&(A(E,!1),E.strm.avail_out===0))return e}return E.insert=0,M===b?(A(E,!0),E.strm.avail_out===0?Q:j):E.last_lit&&(A(E,!1),E.strm.avail_out===0)?e:F}(h,R):o[h.level].func(h,R);if(P!==Q&&P!==j||(h.status=666),P===e||P===Q)return t.avail_out===0&&(h.last_flush=-1),s;if(P===F&&(R===1?r._tr_align(h):R!==5&&(r._tr_stored_block(h,0,0,!1),R===3&&(X(h.head),h.lookahead===0&&(h.strstart=0,h.block_start=0,h.insert=0))),z(t),t.avail_out===0))return h.last_flush=-1,s}return R!==b?s:h.wrap<=0?1:(h.wrap===2?(J(h,255&t.adler),J(h,t.adler>>8&255),J(h,t.adler>>16&255),J(h,t.adler>>24&255),J(h,255&t.total_in),J(h,t.total_in>>8&255),J(h,t.total_in>>16&255),J(h,t.total_in>>24&255)):(q(h,t.adler>>>16),q(h,65535&t.adler)),z(t),0<h.wrap&&(h.wrap=-h.wrap),h.pending!==0?s:1)},m.deflateEnd=function(t){var R;return t&&t.state?(R=t.state.status)!==v&&R!==69&&R!==73&&R!==91&&R!==103&&R!==B&&R!==666?tt(t,f):(t.state=null,R===B?tt(t,-3):s):f},m.deflateSetDictionary=function(t,R){var I,h,d,k,N,P,E,M,K=R.length;if(!t||!t.state||(k=(I=t.state).wrap)===2||k===1&&I.status!==v||I.lookahead)return f;for(k===1&&(t.adler=c(t.adler,R,K,0)),I.wrap=0,K>=I.w_size&&(k===0&&(X(I.head),I.strstart=0,I.block_start=0,I.insert=0),M=new i.Buf8(I.w_size),i.arraySet(M,R,K-I.w_size,I.w_size,0),R=M,K=I.w_size),N=t.avail_in,P=t.next_in,E=t.input,t.avail_in=K,t.next_in=0,t.input=R,st(I);I.lookahead>=O;){for(h=I.strstart,d=I.lookahead-(O-1);I.ins_h=(I.ins_h<<I.hash_shift^I.window[h+O-1])&I.hash_mask,I.prev[h&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=h,h++,--d;);I.strstart=h,I.lookahead=O-1,st(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=O-1,I.match_available=0,t.next_in=P,t.input=E,t.avail_in=N,I.wrap=k,s},m.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,C,m){C.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,C,m){C.exports=function(o,i){var r,c,g,y,_,b,s,f,n,u,a,p,w,S,x,L,T,U,O,Z,V,v,B,e,F;r=o.state,c=o.next_in,e=o.input,g=c+(o.avail_in-5),y=o.next_out,F=o.output,_=y-(i-o.avail_out),b=y+(o.avail_out-257),s=r.dmax,f=r.wsize,n=r.whave,u=r.wnext,a=r.window,p=r.hold,w=r.bits,S=r.lencode,x=r.distcode,L=(1<<r.lenbits)-1,T=(1<<r.distbits)-1;t:do{w<15&&(p+=e[c++]<<w,w+=8,p+=e[c++]<<w,w+=8),U=S[p&L];e:for(;;){if(p>>>=O=U>>>24,w-=O,(O=U>>>16&255)===0)F[y++]=65535&U;else{if(!(16&O)){if(!(64&O)){U=S[(65535&U)+(p&(1<<O)-1)];continue e}if(32&O){r.mode=12;break t}o.msg="invalid literal/length code",r.mode=30;break t}Z=65535&U,(O&=15)&&(w<O&&(p+=e[c++]<<w,w+=8),Z+=p&(1<<O)-1,p>>>=O,w-=O),w<15&&(p+=e[c++]<<w,w+=8,p+=e[c++]<<w,w+=8),U=x[p&T];r:for(;;){if(p>>>=O=U>>>24,w-=O,!(16&(O=U>>>16&255))){if(!(64&O)){U=x[(65535&U)+(p&(1<<O)-1)];continue r}o.msg="invalid distance code",r.mode=30;break t}if(V=65535&U,w<(O&=15)&&(p+=e[c++]<<w,(w+=8)<O&&(p+=e[c++]<<w,w+=8)),s<(V+=p&(1<<O)-1)){o.msg="invalid distance too far back",r.mode=30;break t}if(p>>>=O,w-=O,(O=y-_)<V){if(n<(O=V-O)&&r.sane){o.msg="invalid distance too far back",r.mode=30;break t}if(B=a,(v=0)===u){if(v+=f-O,O<Z){for(Z-=O;F[y++]=a[v++],--O;);v=y-V,B=F}}else if(u<O){if(v+=f+u-O,(O-=u)<Z){for(Z-=O;F[y++]=a[v++],--O;);if(v=0,u<Z){for(Z-=O=u;F[y++]=a[v++],--O;);v=y-V,B=F}}}else if(v+=u-O,O<Z){for(Z-=O;F[y++]=a[v++],--O;);v=y-V,B=F}for(;2<Z;)F[y++]=B[v++],F[y++]=B[v++],F[y++]=B[v++],Z-=3;Z&&(F[y++]=B[v++],1<Z&&(F[y++]=B[v++]))}else{for(v=y-V;F[y++]=F[v++],F[y++]=F[v++],F[y++]=F[v++],2<(Z-=3););Z&&(F[y++]=F[v++],1<Z&&(F[y++]=F[v++]))}break}}break}}while(c<g&&y<b);c-=Z=w>>3,p&=(1<<(w-=Z<<3))-1,o.next_in=c,o.next_out=y,o.avail_in=c<g?g-c+5:5-(c-g),o.avail_out=y<b?b-y+257:257-(y-b),r.hold=p,r.bits=w}},{}],49:[function(l,C,m){var o=l("../utils/common"),i=l("./adler32"),r=l("./crc32"),c=l("./inffast"),g=l("./inftrees"),y=1,_=2,b=0,s=-2,f=1,n=852,u=592;function a(v){return(v>>>24&255)+(v>>>8&65280)+((65280&v)<<8)+((255&v)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(v){var B;return v&&v.state?(B=v.state,v.total_in=v.total_out=B.total=0,v.msg="",B.wrap&&(v.adler=1&B.wrap),B.mode=f,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new o.Buf32(n),B.distcode=B.distdyn=new o.Buf32(u),B.sane=1,B.back=-1,b):s}function S(v){var B;return v&&v.state?((B=v.state).wsize=0,B.whave=0,B.wnext=0,w(v)):s}function x(v,B){var e,F;return v&&v.state?(F=v.state,B<0?(e=0,B=-B):(e=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?s:(F.window!==null&&F.wbits!==B&&(F.window=null),F.wrap=e,F.wbits=B,S(v))):s}function L(v,B){var e,F;return v?(F=new p,(v.state=F).window=null,(e=x(v,B))!==b&&(v.state=null),e):s}var T,U,O=!0;function Z(v){if(O){var B;for(T=new o.Buf32(512),U=new o.Buf32(32),B=0;B<144;)v.lens[B++]=8;for(;B<256;)v.lens[B++]=9;for(;B<280;)v.lens[B++]=7;for(;B<288;)v.lens[B++]=8;for(g(y,v.lens,0,288,T,0,v.work,{bits:9}),B=0;B<32;)v.lens[B++]=5;g(_,v.lens,0,32,U,0,v.work,{bits:5}),O=!1}v.lencode=T,v.lenbits=9,v.distcode=U,v.distbits=5}function V(v,B,e,F){var Q,j=v.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new o.Buf8(j.wsize)),F>=j.wsize?(o.arraySet(j.window,B,e-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(F<(Q=j.wsize-j.wnext)&&(Q=F),o.arraySet(j.window,B,e-F,Q,j.wnext),(F-=Q)?(o.arraySet(j.window,B,e-F,F,0),j.wnext=F,j.whave=j.wsize):(j.wnext+=Q,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=Q))),0}m.inflateReset=S,m.inflateReset2=x,m.inflateResetKeep=w,m.inflateInit=function(v){return L(v,15)},m.inflateInit2=L,m.inflate=function(v,B){var e,F,Q,j,tt,W,X,z,A,J,q,$,st,dt,et,nt,lt,at,pt,ft,t,R,I,h,d=0,k=new o.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!v||!v.state||!v.output||!v.input&&v.avail_in!==0)return s;(e=v.state).mode===12&&(e.mode=13),tt=v.next_out,Q=v.output,X=v.avail_out,j=v.next_in,F=v.input,W=v.avail_in,z=e.hold,A=e.bits,J=W,q=X,R=b;t:for(;;)switch(e.mode){case f:if(e.wrap===0){e.mode=13;break}for(;A<16;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}if(2&e.wrap&&z===35615){k[e.check=0]=255&z,k[1]=z>>>8&255,e.check=r(e.check,k,2,0),A=z=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&z)<<8)+(z>>8))%31){v.msg="incorrect header check",e.mode=30;break}if((15&z)!=8){v.msg="unknown compression method",e.mode=30;break}if(A-=4,t=8+(15&(z>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){v.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,v.adler=e.check=1,e.mode=512&z?10:12,A=z=0;break;case 2:for(;A<16;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}if(e.flags=z,(255&e.flags)!=8){v.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){v.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=z>>8&1),512&e.flags&&(k[0]=255&z,k[1]=z>>>8&255,e.check=r(e.check,k,2,0)),A=z=0,e.mode=3;case 3:for(;A<32;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}e.head&&(e.head.time=z),512&e.flags&&(k[0]=255&z,k[1]=z>>>8&255,k[2]=z>>>16&255,k[3]=z>>>24&255,e.check=r(e.check,k,4,0)),A=z=0,e.mode=4;case 4:for(;A<16;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}e.head&&(e.head.xflags=255&z,e.head.os=z>>8),512&e.flags&&(k[0]=255&z,k[1]=z>>>8&255,e.check=r(e.check,k,2,0)),A=z=0,e.mode=5;case 5:if(1024&e.flags){for(;A<16;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}e.length=z,e.head&&(e.head.extra_len=z),512&e.flags&&(k[0]=255&z,k[1]=z>>>8&255,e.check=r(e.check,k,2,0)),A=z=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(W<($=e.length)&&($=W),$&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),o.arraySet(e.head.extra,F,j,$,t)),512&e.flags&&(e.check=r(e.check,F,$,j)),W-=$,j+=$,e.length-=$),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(W===0)break t;for($=0;t=F[j+$++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&$<W;);if(512&e.flags&&(e.check=r(e.check,F,$,j)),W-=$,j+=$,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(W===0)break t;for($=0;t=F[j+$++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&$<W;);if(512&e.flags&&(e.check=r(e.check,F,$,j)),W-=$,j+=$,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;A<16;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}if(z!==(65535&e.check)){v.msg="header crc mismatch",e.mode=30;break}A=z=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),v.adler=e.check=0,e.mode=12;break;case 10:for(;A<32;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}v.adler=e.check=a(z),A=z=0,e.mode=11;case 11:if(e.havedict===0)return v.next_out=tt,v.avail_out=X,v.next_in=j,v.avail_in=W,e.hold=z,e.bits=A,2;v.adler=e.check=1,e.mode=12;case 12:if(B===5||B===6)break t;case 13:if(e.last){z>>>=7&A,A-=7&A,e.mode=27;break}for(;A<3;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}switch(e.last=1&z,A-=1,3&(z>>>=1)){case 0:e.mode=14;break;case 1:if(Z(e),e.mode=20,B!==6)break;z>>>=2,A-=2;break t;case 2:e.mode=17;break;case 3:v.msg="invalid block type",e.mode=30}z>>>=2,A-=2;break;case 14:for(z>>>=7&A,A-=7&A;A<32;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}if((65535&z)!=(z>>>16^65535)){v.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&z,A=z=0,e.mode=15,B===6)break t;case 15:e.mode=16;case 16:if($=e.length){if(W<$&&($=W),X<$&&($=X),$===0)break t;o.arraySet(Q,F,j,$,tt),W-=$,j+=$,X-=$,tt+=$,e.length-=$;break}e.mode=12;break;case 17:for(;A<14;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}if(e.nlen=257+(31&z),z>>>=5,A-=5,e.ndist=1+(31&z),z>>>=5,A-=5,e.ncode=4+(15&z),z>>>=4,A-=4,286<e.nlen||30<e.ndist){v.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;A<3;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}e.lens[N[e.have++]]=7&z,z>>>=3,A-=3}for(;e.have<19;)e.lens[N[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,I={bits:e.lenbits},R=g(0,e.lens,0,19,e.lencode,0,e.work,I),e.lenbits=I.bits,R){v.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;nt=(d=e.lencode[z&(1<<e.lenbits)-1])>>>16&255,lt=65535&d,!((et=d>>>24)<=A);){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}if(lt<16)z>>>=et,A-=et,e.lens[e.have++]=lt;else{if(lt===16){for(h=et+2;A<h;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}if(z>>>=et,A-=et,e.have===0){v.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],$=3+(3&z),z>>>=2,A-=2}else if(lt===17){for(h=et+3;A<h;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}A-=et,t=0,$=3+(7&(z>>>=et)),z>>>=3,A-=3}else{for(h=et+7;A<h;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}A-=et,t=0,$=11+(127&(z>>>=et)),z>>>=7,A-=7}if(e.have+$>e.nlen+e.ndist){v.msg="invalid bit length repeat",e.mode=30;break}for(;$--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){v.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,I={bits:e.lenbits},R=g(y,e.lens,0,e.nlen,e.lencode,0,e.work,I),e.lenbits=I.bits,R){v.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,I={bits:e.distbits},R=g(_,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,I),e.distbits=I.bits,R){v.msg="invalid distances set",e.mode=30;break}if(e.mode=20,B===6)break t;case 20:e.mode=21;case 21:if(6<=W&&258<=X){v.next_out=tt,v.avail_out=X,v.next_in=j,v.avail_in=W,e.hold=z,e.bits=A,c(v,q),tt=v.next_out,Q=v.output,X=v.avail_out,j=v.next_in,F=v.input,W=v.avail_in,z=e.hold,A=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;nt=(d=e.lencode[z&(1<<e.lenbits)-1])>>>16&255,lt=65535&d,!((et=d>>>24)<=A);){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}if(nt&&!(240&nt)){for(at=et,pt=nt,ft=lt;nt=(d=e.lencode[ft+((z&(1<<at+pt)-1)>>at)])>>>16&255,lt=65535&d,!(at+(et=d>>>24)<=A);){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}z>>>=at,A-=at,e.back+=at}if(z>>>=et,A-=et,e.back+=et,e.length=lt,nt===0){e.mode=26;break}if(32&nt){e.back=-1,e.mode=12;break}if(64&nt){v.msg="invalid literal/length code",e.mode=30;break}e.extra=15&nt,e.mode=22;case 22:if(e.extra){for(h=e.extra;A<h;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}e.length+=z&(1<<e.extra)-1,z>>>=e.extra,A-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;nt=(d=e.distcode[z&(1<<e.distbits)-1])>>>16&255,lt=65535&d,!((et=d>>>24)<=A);){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}if(!(240&nt)){for(at=et,pt=nt,ft=lt;nt=(d=e.distcode[ft+((z&(1<<at+pt)-1)>>at)])>>>16&255,lt=65535&d,!(at+(et=d>>>24)<=A);){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}z>>>=at,A-=at,e.back+=at}if(z>>>=et,A-=et,e.back+=et,64&nt){v.msg="invalid distance code",e.mode=30;break}e.offset=lt,e.extra=15&nt,e.mode=24;case 24:if(e.extra){for(h=e.extra;A<h;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}e.offset+=z&(1<<e.extra)-1,z>>>=e.extra,A-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){v.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(X===0)break t;if($=q-X,e.offset>$){if(($=e.offset-$)>e.whave&&e.sane){v.msg="invalid distance too far back",e.mode=30;break}st=$>e.wnext?($-=e.wnext,e.wsize-$):e.wnext-$,$>e.length&&($=e.length),dt=e.window}else dt=Q,st=tt-e.offset,$=e.length;for(X<$&&($=X),X-=$,e.length-=$;Q[tt++]=dt[st++],--$;);e.length===0&&(e.mode=21);break;case 26:if(X===0)break t;Q[tt++]=e.length,X--,e.mode=21;break;case 27:if(e.wrap){for(;A<32;){if(W===0)break t;W--,z|=F[j++]<<A,A+=8}if(q-=X,v.total_out+=q,e.total+=q,q&&(v.adler=e.check=e.flags?r(e.check,Q,q,tt-q):i(e.check,Q,q,tt-q)),q=X,(e.flags?z:a(z))!==e.check){v.msg="incorrect data check",e.mode=30;break}A=z=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;A<32;){if(W===0)break t;W--,z+=F[j++]<<A,A+=8}if(z!==(4294967295&e.total)){v.msg="incorrect length check",e.mode=30;break}A=z=0}e.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 31:return-4;case 32:default:return s}return v.next_out=tt,v.avail_out=X,v.next_in=j,v.avail_in=W,e.hold=z,e.bits=A,(e.wsize||q!==v.avail_out&&e.mode<30&&(e.mode<27||B!==4))&&V(v,v.output,v.next_out,q-v.avail_out)?(e.mode=31,-4):(J-=v.avail_in,q-=v.avail_out,v.total_in+=J,v.total_out+=q,e.total+=q,e.wrap&&q&&(v.adler=e.check=e.flags?r(e.check,Q,q,v.next_out-q):i(e.check,Q,q,v.next_out-q)),v.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(J==0&&q===0||B===4)&&R===b&&(R=-5),R)},m.inflateEnd=function(v){if(!v||!v.state)return s;var B=v.state;return B.window&&(B.window=null),v.state=null,b},m.inflateGetHeader=function(v,B){var e;return v&&v.state&&2&(e=v.state).wrap?((e.head=B).done=!1,b):s},m.inflateSetDictionary=function(v,B){var e,F=B.length;return v&&v.state?(e=v.state).wrap!==0&&e.mode!==11?s:e.mode===11&&i(1,B,F,0)!==e.check?-3:V(v,B,F,F)?(e.mode=31,-4):(e.havedict=1,b):s},m.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,C,m){var o=l("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];C.exports=function(y,_,b,s,f,n,u,a){var p,w,S,x,L,T,U,O,Z,V=a.bits,v=0,B=0,e=0,F=0,Q=0,j=0,tt=0,W=0,X=0,z=0,A=null,J=0,q=new o.Buf16(16),$=new o.Buf16(16),st=null,dt=0;for(v=0;v<=15;v++)q[v]=0;for(B=0;B<s;B++)q[_[b+B]]++;for(Q=V,F=15;1<=F&&q[F]===0;F--);if(F<Q&&(Q=F),F===0)return f[n++]=20971520,f[n++]=20971520,a.bits=1,0;for(e=1;e<F&&q[e]===0;e++);for(Q<e&&(Q=e),v=W=1;v<=15;v++)if(W<<=1,(W-=q[v])<0)return-1;if(0<W&&(y===0||F!==1))return-1;for($[1]=0,v=1;v<15;v++)$[v+1]=$[v]+q[v];for(B=0;B<s;B++)_[b+B]!==0&&(u[$[_[b+B]]++]=B);if(T=y===0?(A=st=u,19):y===1?(A=i,J-=257,st=r,dt-=257,256):(A=c,st=g,-1),v=e,L=n,tt=B=z=0,S=-1,x=(X=1<<(j=Q))-1,y===1&&852<X||y===2&&592<X)return 1;for(;;){for(U=v-tt,Z=u[B]<T?(O=0,u[B]):u[B]>T?(O=st[dt+u[B]],A[J+u[B]]):(O=96,0),p=1<<v-tt,e=w=1<<j;f[L+(z>>tt)+(w-=p)]=U<<24|O<<16|Z|0,w!==0;);for(p=1<<v-1;z&p;)p>>=1;if(p!==0?(z&=p-1,z+=p):z=0,B++,--q[v]==0){if(v===F)break;v=_[b+u[B]]}if(Q<v&&(z&x)!==S){for(tt===0&&(tt=Q),L+=e,W=1<<(j=v-tt);j+tt<F&&!((W-=q[j+tt])<=0);)j++,W<<=1;if(X+=1<<j,y===1&&852<X||y===2&&592<X)return 1;f[S=z&x]=Q<<24|j<<16|L-n|0}}return z!==0&&(f[L+z]=v-tt<<24|64<<16|0),a.bits=Q,0}},{"../utils/common":41}],51:[function(l,C,m){C.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,C,m){var o=l("../utils/common"),i=0,r=1;function c(d){for(var k=d.length;0<=--k;)d[k]=0}var g=0,y=29,_=256,b=_+1+y,s=30,f=19,n=2*b+1,u=15,a=16,p=7,w=256,S=16,x=17,L=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(2*(b+2));c(V);var v=new Array(2*s);c(v);var B=new Array(512);c(B);var e=new Array(256);c(e);var F=new Array(y);c(F);var Q,j,tt,W=new Array(s);function X(d,k,N,P,E){this.static_tree=d,this.extra_bits=k,this.extra_base=N,this.elems=P,this.max_length=E,this.has_stree=d&&d.length}function z(d,k){this.dyn_tree=d,this.max_code=0,this.stat_desc=k}function A(d){return d<256?B[d]:B[256+(d>>>7)]}function J(d,k){d.pending_buf[d.pending++]=255&k,d.pending_buf[d.pending++]=k>>>8&255}function q(d,k,N){d.bi_valid>a-N?(d.bi_buf|=k<<d.bi_valid&65535,J(d,d.bi_buf),d.bi_buf=k>>a-d.bi_valid,d.bi_valid+=N-a):(d.bi_buf|=k<<d.bi_valid&65535,d.bi_valid+=N)}function $(d,k,N){q(d,N[2*k],N[2*k+1])}function st(d,k){for(var N=0;N|=1&d,d>>>=1,N<<=1,0<--k;);return N>>>1}function dt(d,k,N){var P,E,M=new Array(u+1),K=0;for(P=1;P<=u;P++)M[P]=K=K+N[P-1]<<1;for(E=0;E<=k;E++){var H=d[2*E+1];H!==0&&(d[2*E]=st(M[H]++,H))}}function et(d){var k;for(k=0;k<b;k++)d.dyn_ltree[2*k]=0;for(k=0;k<s;k++)d.dyn_dtree[2*k]=0;for(k=0;k<f;k++)d.bl_tree[2*k]=0;d.dyn_ltree[2*w]=1,d.opt_len=d.static_len=0,d.last_lit=d.matches=0}function nt(d){8<d.bi_valid?J(d,d.bi_buf):0<d.bi_valid&&(d.pending_buf[d.pending++]=d.bi_buf),d.bi_buf=0,d.bi_valid=0}function lt(d,k,N,P){var E=2*k,M=2*N;return d[E]<d[M]||d[E]===d[M]&&P[k]<=P[N]}function at(d,k,N){for(var P=d.heap[N],E=N<<1;E<=d.heap_len&&(E<d.heap_len&&lt(k,d.heap[E+1],d.heap[E],d.depth)&&E++,!lt(k,P,d.heap[E],d.depth));)d.heap[N]=d.heap[E],N=E,E<<=1;d.heap[N]=P}function pt(d,k,N){var P,E,M,K,H=0;if(d.last_lit!==0)for(;P=d.pending_buf[d.d_buf+2*H]<<8|d.pending_buf[d.d_buf+2*H+1],E=d.pending_buf[d.l_buf+H],H++,P===0?$(d,E,k):($(d,(M=e[E])+_+1,k),(K=T[M])!==0&&q(d,E-=F[M],K),$(d,M=A(--P),N),(K=U[M])!==0&&q(d,P-=W[M],K)),H<d.last_lit;);$(d,w,k)}function ft(d,k){var N,P,E,M=k.dyn_tree,K=k.stat_desc.static_tree,H=k.stat_desc.has_stree,Y=k.stat_desc.elems,it=-1;for(d.heap_len=0,d.heap_max=n,N=0;N<Y;N++)M[2*N]!==0?(d.heap[++d.heap_len]=it=N,d.depth[N]=0):M[2*N+1]=0;for(;d.heap_len<2;)M[2*(E=d.heap[++d.heap_len]=it<2?++it:0)]=1,d.depth[E]=0,d.opt_len--,H&&(d.static_len-=K[2*E+1]);for(k.max_code=it,N=d.heap_len>>1;1<=N;N--)at(d,M,N);for(E=Y;N=d.heap[1],d.heap[1]=d.heap[d.heap_len--],at(d,M,1),P=d.heap[1],d.heap[--d.heap_max]=N,d.heap[--d.heap_max]=P,M[2*E]=M[2*N]+M[2*P],d.depth[E]=(d.depth[N]>=d.depth[P]?d.depth[N]:d.depth[P])+1,M[2*N+1]=M[2*P+1]=E,d.heap[1]=E++,at(d,M,1),2<=d.heap_len;);d.heap[--d.heap_max]=d.heap[1],function(rt,ht){var bt,mt,vt,ot,wt,It,gt=ht.dyn_tree,Bt=ht.max_code,Pt=ht.stat_desc.static_tree,jt=ht.stat_desc.has_stree,Ut=ht.stat_desc.extra_bits,Dt=ht.stat_desc.extra_base,yt=ht.stat_desc.max_length,kt=0;for(ot=0;ot<=u;ot++)rt.bl_count[ot]=0;for(gt[2*rt.heap[rt.heap_max]+1]=0,bt=rt.heap_max+1;bt<n;bt++)yt<(ot=gt[2*gt[2*(mt=rt.heap[bt])+1]+1]+1)&&(ot=yt,kt++),gt[2*mt+1]=ot,Bt<mt||(rt.bl_count[ot]++,wt=0,Dt<=mt&&(wt=Ut[mt-Dt]),It=gt[2*mt],rt.opt_len+=It*(ot+wt),jt&&(rt.static_len+=It*(Pt[2*mt+1]+wt)));if(kt!==0){do{for(ot=yt-1;rt.bl_count[ot]===0;)ot--;rt.bl_count[ot]--,rt.bl_count[ot+1]+=2,rt.bl_count[yt]--,kt-=2}while(0<kt);for(ot=yt;ot!==0;ot--)for(mt=rt.bl_count[ot];mt!==0;)Bt<(vt=rt.heap[--bt])||(gt[2*vt+1]!==ot&&(rt.opt_len+=(ot-gt[2*vt+1])*gt[2*vt],gt[2*vt+1]=ot),mt--)}}(d,k),dt(M,it,d.bl_count)}function t(d,k,N){var P,E,M=-1,K=k[1],H=0,Y=7,it=4;for(K===0&&(Y=138,it=3),k[2*(N+1)+1]=65535,P=0;P<=N;P++)E=K,K=k[2*(P+1)+1],++H<Y&&E===K||(H<it?d.bl_tree[2*E]+=H:E!==0?(E!==M&&d.bl_tree[2*E]++,d.bl_tree[2*S]++):H<=10?d.bl_tree[2*x]++:d.bl_tree[2*L]++,M=E,it=(H=0)===K?(Y=138,3):E===K?(Y=6,3):(Y=7,4))}function R(d,k,N){var P,E,M=-1,K=k[1],H=0,Y=7,it=4;for(K===0&&(Y=138,it=3),P=0;P<=N;P++)if(E=K,K=k[2*(P+1)+1],!(++H<Y&&E===K)){if(H<it)for(;$(d,E,d.bl_tree),--H!=0;);else E!==0?(E!==M&&($(d,E,d.bl_tree),H--),$(d,S,d.bl_tree),q(d,H-3,2)):H<=10?($(d,x,d.bl_tree),q(d,H-3,3)):($(d,L,d.bl_tree),q(d,H-11,7));M=E,it=(H=0)===K?(Y=138,3):E===K?(Y=6,3):(Y=7,4)}}c(W);var I=!1;function h(d,k,N,P){q(d,(g<<1)+(P?1:0),3),function(E,M,K,H){nt(E),J(E,K),J(E,~K),o.arraySet(E.pending_buf,E.window,M,K,E.pending),E.pending+=K}(d,k,N)}m._tr_init=function(d){I||(function(){var k,N,P,E,M,K=new Array(u+1);for(E=P=0;E<y-1;E++)for(F[E]=P,k=0;k<1<<T[E];k++)e[P++]=E;for(e[P-1]=E,E=M=0;E<16;E++)for(W[E]=M,k=0;k<1<<U[E];k++)B[M++]=E;for(M>>=7;E<s;E++)for(W[E]=M<<7,k=0;k<1<<U[E]-7;k++)B[256+M++]=E;for(N=0;N<=u;N++)K[N]=0;for(k=0;k<=143;)V[2*k+1]=8,k++,K[8]++;for(;k<=255;)V[2*k+1]=9,k++,K[9]++;for(;k<=279;)V[2*k+1]=7,k++,K[7]++;for(;k<=287;)V[2*k+1]=8,k++,K[8]++;for(dt(V,b+1,K),k=0;k<s;k++)v[2*k+1]=5,v[2*k]=st(k,5);Q=new X(V,T,_+1,b,u),j=new X(v,U,0,s,u),tt=new X(new Array(0),O,0,f,p)}(),I=!0),d.l_desc=new z(d.dyn_ltree,Q),d.d_desc=new z(d.dyn_dtree,j),d.bl_desc=new z(d.bl_tree,tt),d.bi_buf=0,d.bi_valid=0,et(d)},m._tr_stored_block=h,m._tr_flush_block=function(d,k,N,P){var E,M,K=0;0<d.level?(d.strm.data_type===2&&(d.strm.data_type=function(H){var Y,it=4093624447;for(Y=0;Y<=31;Y++,it>>>=1)if(1&it&&H.dyn_ltree[2*Y]!==0)return i;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return r;for(Y=32;Y<_;Y++)if(H.dyn_ltree[2*Y]!==0)return r;return i}(d)),ft(d,d.l_desc),ft(d,d.d_desc),K=function(H){var Y;for(t(H,H.dyn_ltree,H.l_desc.max_code),t(H,H.dyn_dtree,H.d_desc.max_code),ft(H,H.bl_desc),Y=f-1;3<=Y&&H.bl_tree[2*Z[Y]+1]===0;Y--);return H.opt_len+=3*(Y+1)+5+5+4,Y}(d),E=d.opt_len+3+7>>>3,(M=d.static_len+3+7>>>3)<=E&&(E=M)):E=M=N+5,N+4<=E&&k!==-1?h(d,k,N,P):d.strategy===4||M===E?(q(d,2+(P?1:0),3),pt(d,V,v)):(q(d,4+(P?1:0),3),function(H,Y,it,rt){var ht;for(q(H,Y-257,5),q(H,it-1,5),q(H,rt-4,4),ht=0;ht<rt;ht++)q(H,H.bl_tree[2*Z[ht]+1],3);R(H,H.dyn_ltree,Y-1),R(H,H.dyn_dtree,it-1)}(d,d.l_desc.max_code+1,d.d_desc.max_code+1,K+1),pt(d,d.dyn_ltree,d.dyn_dtree)),et(d),P&&nt(d)},m._tr_tally=function(d,k,N){return d.pending_buf[d.d_buf+2*d.last_lit]=k>>>8&255,d.pending_buf[d.d_buf+2*d.last_lit+1]=255&k,d.pending_buf[d.l_buf+d.last_lit]=255&N,d.last_lit++,k===0?d.dyn_ltree[2*N]++:(d.matches++,k--,d.dyn_ltree[2*(e[N]+_+1)]++,d.dyn_dtree[2*A(k)]++),d.last_lit===d.lit_bufsize-1},m._tr_align=function(d){q(d,2,3),$(d,w,V),function(k){k.bi_valid===16?(J(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):8<=k.bi_valid&&(k.pending_buf[k.pending++]=255&k.bi_buf,k.bi_buf>>=8,k.bi_valid-=8)}(d)}},{"../utils/common":41}],53:[function(l,C,m){C.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,C,m){(function(o){(function(i,r){if(!i.setImmediate){var c,g,y,_,b=1,s={},f=!1,n=i.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(i);u=u&&u.setTimeout?u:i,c={}.toString.call(i.process)==="[object process]"?function(S){process.nextTick(function(){p(S)})}:function(){if(i.postMessage&&!i.importScripts){var S=!0,x=i.onmessage;return i.onmessage=function(){S=!1},i.postMessage("","*"),i.onmessage=x,S}}()?(_="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",w,!1):i.attachEvent("onmessage",w),function(S){i.postMessage(_+S,"*")}):i.MessageChannel?((y=new MessageChannel).port1.onmessage=function(S){p(S.data)},function(S){y.port2.postMessage(S)}):n&&"onreadystatechange"in n.createElement("script")?(g=n.documentElement,function(S){var x=n.createElement("script");x.onreadystatechange=function(){p(S),x.onreadystatechange=null,g.removeChild(x),x=null},g.appendChild(x)}):function(S){setTimeout(p,0,S)},u.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var x=new Array(arguments.length-1),L=0;L<x.length;L++)x[L]=arguments[L+1];var T={callback:S,args:x};return s[b]=T,c(b),b++},u.clearImmediate=a}function a(S){delete s[S]}function p(S){if(f)setTimeout(p,0,S);else{var x=s[S];if(x){f=!0;try{(function(L){var T=L.callback,U=L.args;switch(U.length){case 0:T();break;case 1:T(U[0]);break;case 2:T(U[0],U[1]);break;case 3:T(U[0],U[1],U[2]);break;default:T.apply(r,U)}})(x)}finally{a(S),f=!1}}}}function w(S){S.source===i&&typeof S.data=="string"&&S.data.indexOf(_)===0&&p(+S.data.slice(_.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof xt<"u"?xt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Rt);var $t=Rt.exports;const Gt=Ht($t),At=document.querySelector("#app"),ct={dresses:[],filters:{readyToWear:!1,madeToOrder:!1,forSale:!1,forRent:!1},currentView:"catalog",selectedDress:null},Ot=(D,G="PHP")=>{if(typeof D!="number")return"Request pricing";try{return new Intl.NumberFormat("en-PH",{style:"currency",currency:G}).format(D)}catch{return`${D} ${G}`}},Et=(D,G="")=>{const l=document.createElement("span");return l.className=`pill ${G}`.trim(),l.textContent=D,l},Ft=()=>{At.innerHTML=`
    <main class="page">
      <header class="logo-header">
        <div class="logo-container">
          <img src="logo.png" alt="Mujeres Bridal" class="logo" />
          <button id="admin-toggle-btn" class="admin-toggle" title="Admin panel">âš™ï¸</button>
        </div>
      </header>
      
      <section class="hero">
        <div class="hero__content">
          <p class="lede">
            Bridal gowns crafted by independent tailors in Vietnam. Discover ready-to-wear silhouettes and made-to-order pieces with transparent pricing.
          </p>
          <div class="hero__pills">
            <span class="pill soft">Ready to wear</span>
            <span class="pill soft">Made to order</span>
            <span class="pill outline">For sale</span>
            <span class="pill outline">For rent</span>
          </div>
        </div>
        <div class="hero__card">
          <div class="hero__badge">Catalog</div>
          <p class="hero__metric">Tailored with care</p>
          <p class="hero__sub">Independent ateliers â€¢ Minimal silhouettes â€¢ Honest pricing</p>
        </div>
      </section>

      <section class="filters" aria-label="catalog filters">
        <div class="filter-group">
          <button class="filter" data-filter="readyToWear" aria-pressed="false">Ready to wear</button>
          <button class="filter" data-filter="madeToOrder" aria-pressed="false">Made to order</button>
          <button class="filter" data-filter="forSale" aria-pressed="false">For sale</button>
          <button class="filter" data-filter="forRent" aria-pressed="false">For rent</button>
        </div>
        <div class="meta" id="result-meta"></div>
      </section>

      <section id="catalog" class="catalog" aria-live="polite"></section>
    </main>
  `},qt=()=>{const{dresses:D,filters:G}=ct;return Object.values(G).some(C=>C===!0)?D.filter(C=>{const m=G.readyToWear?C.readyToWear:!1,o=G.madeToOrder?C.madeToOrder:!1,i=G.forSale?C.forSale:!1,r=G.forRent?C.forRent:!1;return m||o||i||r}):D},zt=()=>{const D=qt(),G=document.querySelector("#catalog"),l=document.querySelector("#result-meta");if(!(!G||!l)){if(l.textContent=`${D.length} style${D.length===1?"":"s"} shown`,D.length===0){G.innerHTML='<p class="empty">No dresses match these filters yet. Try toggling another option.</p>';return}G.innerHTML="";for(const C of D){const m=document.createElement("article");m.className="card",m.style.cursor="pointer";const o=document.createElement("div");o.className="card__cover",C.cover&&(o.style.backgroundImage=`url(${C.cover})`);const i=document.createElement("div");i.className="card__badges",C.readyToWear&&i.appendChild(Et("Ready to wear","soft")),C.madeToOrder&&i.appendChild(Et("Made to order","soft")),C.forSale&&i.appendChild(Et("For sale","outline")),C.forRent&&i.appendChild(Et("For rent","outline"));const r=document.createElement("div");r.className="card__body";const c=document.createElement("h3");c.textContent=C.name;const g=document.createElement("p");g.className="card__desc",g.textContent=C.description||"Minimal bridal silhouette.";const y=document.createElement("p");y.className="card__price",y.textContent=Ot(C.price,C.currency),r.appendChild(c),r.appendChild(g),r.appendChild(y),m.appendChild(o),m.appendChild(i),m.appendChild(r),m.addEventListener("click",()=>{ct.selectedDress=C,ct.currentView="detail",Kt()}),G.appendChild(m)}}},Lt=()=>{document.querySelectorAll(".filter").forEach(G=>{G.addEventListener("click",()=>{const l=G.getAttribute("data-filter");ct.filters[l]=!ct.filters[l],G.setAttribute("aria-pressed",String(ct.filters[l])),G.classList.toggle("active",ct.filters[l]),zt()})})},Kt=()=>{const D=ct.selectedDress;if(!D)return;At.innerHTML=`
    <main class="page">
      <header class="logo-header">
        <img src="logo.png" alt="Mujeres Bridal" class="logo" />
      </header>
      
      <div class="detail-container">
        <button class="back-btn" id="back-btn">â† Back to catalog</button>
        
        <div class="detail-content">
          <div class="detail-gallery">
            <div class="detail-main-image">
              <img src="${D.cover}" alt="${D.name}" />
            </div>
            ${D.images&&D.images.length>1?`<div class="detail-thumbnails">
                    ${D.images.map(C=>`<img src="${C}" alt="thumbnail" class="detail-thumb" data-image="${C}">`).join("")}
                  </div>`:""}
          </div>
          
          <div class="detail-info">
            <h1>${D.name}</h1>
            <p class="detail-description">${D.description||"Minimal bridal silhouette."}</p>
            
            <div class="detail-price">${Ot(D.price,D.currency)}</div>
            
            <div class="detail-badges">
              ${D.readyToWear?'<span class="pill soft">Ready to wear</span>':""}
              ${D.madeToOrder?'<span class="pill soft">Made to order</span>':""}
              ${D.forSale?'<span class="pill outline">For sale</span>':""}
              ${D.forRent?'<span class="pill outline">For rent</span>':""}
            </div>
          </div>
        </div>
      </div>
    </main>
  `,document.getElementById("back-btn").addEventListener("click",()=>{ct.currentView="catalog",ct.selectedDress=null,Ft(),Lt(),zt()});const G=document.querySelectorAll(".detail-thumb"),l=document.querySelector(".detail-main-image img");G.forEach(C=>{C.addEventListener("click",()=>{l.src=C.getAttribute("data-image"),G.forEach(m=>m.classList.remove("active")),C.classList.add("active")})})},Yt=async()=>{console.log("Loading catalog from local file...");const G=`/MujeresBridal/catalog-data.json?t=${new Date().getTime()}`;try{const l=await fetch(G);if(!l.ok)throw new Error(`HTTP ${l.status}`);const C=await l.json();ct.dresses=Array.isArray(C==null?void 0:C.dresses)?C.dresses:[],console.log("âœ… Loaded:",ct.dresses.length,"dresses")}catch(l){console.warn("Using fallback sample catalog",l),ct.dresses=[{slug:"sample-dress",name:"Celeste Sample",description:"Hand-finished satin column gown with removable overskirt.",price:12800,currency:"PHP",readyToWear:!0,madeToOrder:!0,forSale:!0,forRent:!0,images:["catalog/sample-dress/dress-placeholder.svg"],cover:"catalog/sample-dress/dress-placeholder.svg"}]}zt()},Jt=async()=>{ut.checkSession(),await ut.init(),Ft(),Lt(),await Yt(),await ut.loadDresses(ct.dresses),te()},Vt=()=>{const D=document.createElement("div");D.className="modal modal-open",D.innerHTML=`
    <div class="modal-content">
      <h2>Admin Login</h2>
      <p>Enter the admin password to manage the catalog</p>
      <input type="password" id="admin-password" placeholder="Password" class="admin-input" />
      <div class="modal-buttons">
        <button class="btn btn-primary" id="login-btn">Login</button>
        <button class="btn btn-secondary" id="close-modal-btn">Cancel</button>
      </div>
    </div>
  `,At.appendChild(D),document.getElementById("login-btn").addEventListener("click",()=>{const G=document.getElementById("admin-password").value;ut.login(G)?(D.remove(),Nt()):alert("âŒ Incorrect password")}),document.getElementById("close-modal-btn").addEventListener("click",()=>{D.remove()}),document.getElementById("admin-password").addEventListener("keypress",G=>{G.key==="Enter"&&document.getElementById("login-btn").click()}),setTimeout(()=>document.getElementById("admin-password").focus(),100)},Nt=()=>{const D=document.createElement("div");D.className="modal modal-open admin-panel-modal",D.innerHTML=`
    <div class="admin-panel">
      <div class="admin-header">
        <h2>Catalog Manager</h2>
        <button class="close-btn" id="close-admin-btn">âœ•</button>
      </div>
      
      <div class="admin-tabs">
        <button class="admin-tab active" data-tab="list">Dresses (${ut.getDresses().length})</button>
        <button class="admin-tab" data-tab="add">Add New</button>
      </div>
      
      <div class="sync-status" id="sync-status">
        <span class="sync-indicator">ðŸ”„ Synced with GitHub</span>
      </div>

      <div id="list-tab" class="admin-tab-content active">
        <div id="dresses-list" class="dresses-table"></div>
      </div>

      <div id="add-tab" class="admin-tab-content">
        <form id="add-dress-form" class="dress-form"></form>
      </div>

      <div class="admin-footer">
        <button class="btn btn-secondary" id="export-btn">ðŸ“¥ Export JSON</button>
        <button class="btn btn-danger" id="logout-btn">Logout</button>
      </div>
    </div>
  `,At.appendChild(D),document.querySelectorAll(".admin-tab").forEach(G=>{G.addEventListener("click",()=>{document.querySelectorAll(".admin-tab").forEach(l=>l.classList.remove("active")),document.querySelectorAll(".admin-tab-content").forEach(l=>l.classList.remove("active")),G.classList.add("active"),document.getElementById(G.dataset.tab+"-tab").classList.add("active")})}),Tt(),Xt(),document.getElementById("close-admin-btn").addEventListener("click",()=>{D.remove()}),document.getElementById("export-btn").addEventListener("click",async()=>{await Qt()}),document.getElementById("logout-btn").addEventListener("click",()=>{ut.logout(),D.remove()})},Tt=()=>{const D=document.getElementById("dresses-list"),G=ut.getDresses();D.innerHTML=G.map(l=>`
    <div class="dress-item">
      <div class="dress-item-info">
        <h4>${l.name}</h4>
        <p>${l.description.substring(0,60)}...</p>
        <p class="dress-price">${Ot(l.price,l.currency)}</p>
      </div>
      <div class="dress-item-actions">
        <button class="btn btn-sm btn-primary" onclick="window.editDress('${l.slug}')">Edit</button>
        <button class="btn btn-sm btn-danger" onclick="window.deleteDress('${l.slug}')">Delete</button>
      </div>
    </div>
  `).join("")},Xt=()=>{const D=document.getElementById("add-dress-form");D.innerHTML=`
    <div class="form-group">
      <label>Name *</label>
      <input type="text" name="name" required placeholder="e.g., Rose Gown" />
    </div>
    <div class="form-group">
      <label>Description</label>
      <textarea name="description" placeholder="Describe the dress..."></textarea>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>Price (PHP)</label>
        <input type="number" name="price" placeholder="e.g., 12800" />
      </div>
      <div class="form-group">
        <label>Currency</label>
        <input type="text" name="currency" value="PHP" />
      </div>
    </div>
    <div class="form-row">
      <div class="form-group checkbox">
        <input type="checkbox" name="readyToWear" id="rtw" />
        <label for="rtw">Ready to wear</label>
      </div>
      <div class="form-group checkbox">
        <input type="checkbox" name="madeToOrder" id="mto" />
        <label for="mto">Made to order</label>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group checkbox">
        <input type="checkbox" name="forSale" id="fs" />
        <label for="fs">For sale</label>
      </div>
      <div class="form-group checkbox">
        <input type="checkbox" name="forRent" id="fr" />
        <label for="fr">For rent</label>
      </div>
    </div>
    <div class="form-group">
      <label>Cover Image (Upload)</label>
      <input type="file" name="coverFile" accept="image/*" class="image-input" />
      <p class="form-hint">or</p>
      <label>Cover Image URL</label>
      <input type="text" name="cover" placeholder="https://..." />
    </div>
    <div class="form-group">
      <label>Additional Images (Optional)</label>
      <input type="file" name="additionalImages" accept="image/*" multiple class="image-input" />
    </div>
    <div class="form-group">
      <label>Tags (comma-separated)</label>
      <input type="text" name="tags" placeholder="e.g., satin, minimal, elegant" />
    </div>
    <button type="submit" class="btn btn-primary" style="width: 100%;">Add Dress</button>
  `,D.addEventListener("submit",async G=>{G.preventDefault();const l=new FormData(D);let C=l.get("cover");const m=l.get("coverFile");m&&m.size>0&&(C=await ut.convertImageToBase64(m));const o=[],i=l.getAll("additionalImages");for(const b of i)if(b&&b.size>0){const s=await ut.convertImageToBase64(b);o.push(s)}const r={name:l.get("name"),description:l.get("description"),price:l.get("price")?parseFloat(l.get("price")):null,currency:l.get("currency"),readyToWear:l.get("readyToWear")==="on",madeToOrder:l.get("madeToOrder")==="on",forSale:l.get("forSale")==="on",forRent:l.get("forRent")==="on",cover:C,images:C?[C,...o]:o,tags:l.get("tags")?l.get("tags").split(",").map(b=>b.trim()):[]};await ut.addDress(r),ct.dresses=ut.getDresses(),D.reset(),Tt();const c=document.querySelector('[data-tab="list"]'),g=document.querySelector('[data-tab="add"]'),y=document.getElementById("list-tab"),_=document.getElementById("add-tab");c&&g&&y&&_&&(c.classList.add("active"),g.classList.remove("active"),y.classList.add("active"),_.classList.remove("active")),alert("âœ… Dress added successfully!")})},Qt=async()=>{const D=new Gt,G=ut.getDresses(),l={updatedAt:new Date().toISOString(),dresses:G.map(i=>({...i,cover:i.cover&&i.cover.startsWith("data:")?`catalog/${i.slug}/cover.${Ct(i.cover)}`:i.cover,images:i.images?i.images.map((r,c)=>r.startsWith("data:")?`catalog/${i.slug}/image-${c}.${Ct(r)}`:r):[]}))};D.folder("public").file("catalog-data.json",JSON.stringify(l,null,2));for(const i of G){const r=D.folder(`public/catalog/${i.slug}`),c={name:i.name,description:i.description,price:i.price,currency:i.currency,readyToWear:i.readyToWear,madeToOrder:i.madeToOrder,forSale:i.forSale,forRent:i.forRent,tags:i.tags||[]};if(r.file("meta.json",JSON.stringify(c,null,2)),i.cover){if(i.cover.startsWith("data:")){const g=i.cover.split(",")[1],y=Ct(i.cover);r.file(`cover.${y}`,g,{base64:!0})}else if(!i.cover.startsWith("http"))try{const y=await(await fetch(`/MujeresBridal/${i.cover}`)).blob();r.file(i.cover.split("/").pop(),y)}catch(g){console.warn(`Could not fetch image: ${i.cover}`,g)}}if(i.images)for(let g=0;g<i.images.length;g++){const y=i.images[g];if(y.startsWith("data:")){const _=y.split(",")[1],b=Ct(y);r.file(`image-${g}.${b}`,_,{base64:!0})}else if(!y.startsWith("http"))try{const b=await(await fetch(`/MujeresBridal/${y}`)).blob();r.file(y.split("/").pop(),b)}catch(_){console.warn(`Could not fetch image: ${y}`,_)}}}const C=await D.generateAsync({type:"blob"}),m=URL.createObjectURL(C),o=document.createElement("a");o.href=m,o.download=`MujeresBridal-catalog-${new Date().toISOString().split("T")[0]}.zip`,o.click(),URL.revokeObjectURL(m),alert(`âœ… Catalog exported as ZIP!

To update GitHub:
1. Extract the ZIP
2. Copy 'public/catalog-data.json' to your repo
3. Copy 'public/catalog/' folders to your repo
4. Commit and push`)},Ct=D=>D.includes("image/jpeg")?"jpg":D.includes("image/png")?"png":D.includes("image/webp")?"webp":D.includes("image/svg")?"svg":"jpg",te=()=>{const D=document.getElementById("admin-toggle-btn");D&&D.addEventListener("click",()=>{ut.isLoggedIn?Nt():Vt()})};window.deleteDress=D=>{confirm("Are you sure?")&&(ut.deleteDress(D),ct.dresses=ut.getDresses(),Tt(),zt())};window.editDress=D=>{alert("Edit feature coming soon! For now, you can delete and re-add.")};Jt();
